(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var df={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function AE(){if(Pp)return Vl;Pp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var kp;function SE(){return kp||(kp=1,df.exports=AE()),df.exports}var et=SE(),mf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function bE(){if(jp)return At;jp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,tt={};function $(C,K,it){this.props=C,this.context=K,this.refs=tt,this.updater=it||U}$.prototype.isReactComponent={},$.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=$.prototype;function ot(C,K,it){this.props=C,this.context=K,this.refs=tt,this.updater=it||U}var ht=ot.prototype=new Et;ht.constructor=ot,H(ht,$.prototype),ht.isPureReactComponent=!0;var It=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function O(C,K,it,J,ct,Rt){return it=Rt.ref,{$$typeof:s,type:C,key:K,ref:it!==void 0?it:null,props:Rt}}function S(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return K[it]})}var M=/\/+/g;function L(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function R(){}function Ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,K,it,J,ct){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case e:_t=!0;break;case A:return _t=C._init,ie(_t(C._payload),K,it,J,ct)}}if(_t)return ct=ct(C),_t=J===""?"."+L(C,0):J,It(ct)?(it="",_t!=null&&(it=_t.replace(M,"$&/")+"/"),ie(ct,K,it,"",function(Mn){return Mn})):ct!=null&&(w(ct)&&(ct=S(ct,it+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(M,"$&/")+"/")+_t)),K.push(ct)),1;_t=0;var be=J===""?".":J+":";if(It(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],Rt=be+L(J,Zt),_t+=ie(J,K,it,Rt,ct);else if(Zt=I(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,Rt=be+L(J,Zt++),_t+=ie(J,K,it,Rt,ct);else if(Rt==="object"){if(typeof C.then=="function")return ie(Ne(C),K,it,J,ct);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function G(C,K,it){if(C==null)return C;var J=[],ct=0;return ie(C,J,"","",function(Rt){return K.call(it,Rt,ct++)}),J}function nt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return At.Children={map:G,forEach:function(C,K,it){G(C,function(){K.apply(this,arguments)},it)},count:function(C){var K=0;return G(C,function(){K++}),K},toArray:function(C){return G(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=$,At.Fragment=i,At.Profiler=u,At.PureComponent=ot,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return pt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,K,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=H({},C.props),ct=C.key,Rt=void 0;if(K!=null)for(_t in K.ref!==void 0&&(Rt=void 0),K.key!==void 0&&(ct=""+K.key),K)!Nt.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||(J[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)J.children=it;else if(1<_t){for(var be=Array(_t),Zt=0;Zt<_t;Zt++)be[Zt]=arguments[Zt+2];J.children=be}return O(C.type,ct,void 0,void 0,Rt,J)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,K,it){var J,ct={},Rt=null;if(K!=null)for(J in K.key!==void 0&&(Rt=""+K.key),K)Nt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=K[J]);var _t=arguments.length-2;if(_t===1)ct.children=it;else if(1<_t){for(var be=Array(_t),Zt=0;Zt<_t;Zt++)be[Zt]=arguments[Zt+2];ct.children=be}if(C&&C.defaultProps)for(J in _t=C.defaultProps,_t)ct[J]===void 0&&(ct[J]=_t[J]);return O(C,Rt,void 0,void 0,null,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=w,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:nt}},At.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},At.startTransition=function(C){var K=pt.T,it={};pt.T=it;try{var J=C(),ct=pt.S;ct!==null&&ct(it,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Bt,ut)}catch(Rt){ut(Rt)}finally{pt.T=K}},At.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},At.use=function(C){return pt.H.use(C)},At.useActionState=function(C,K,it){return pt.H.useActionState(C,K,it)},At.useCallback=function(C,K){return pt.H.useCallback(C,K)},At.useContext=function(C){return pt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,K){return pt.H.useDeferredValue(C,K)},At.useEffect=function(C,K,it){var J=pt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,K)},At.useId=function(){return pt.H.useId()},At.useImperativeHandle=function(C,K,it){return pt.H.useImperativeHandle(C,K,it)},At.useInsertionEffect=function(C,K){return pt.H.useInsertionEffect(C,K)},At.useLayoutEffect=function(C,K){return pt.H.useLayoutEffect(C,K)},At.useMemo=function(C,K){return pt.H.useMemo(C,K)},At.useOptimistic=function(C,K){return pt.H.useOptimistic(C,K)},At.useReducer=function(C,K,it){return pt.H.useReducer(C,K,it)},At.useRef=function(C){return pt.H.useRef(C)},At.useState=function(C){return pt.H.useState(C)},At.useSyncExternalStore=function(C,K,it){return pt.H.useSyncExternalStore(C,K,it)},At.useTransition=function(){return pt.H.useTransition()},At.version="19.1.0",At}var qp;function Xf(){return qp||(qp=1,mf.exports=bE()),mf.exports}var tn=Xf(),gf={exports:{}},Il={},pf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function RE(){return Hp||(Hp=1,function(s){function e(G,nt){var ut=G.length;G.push(nt);t:for(;0<ut;){var Bt=ut-1>>>1,C=G[Bt];if(0<u(C,nt))G[Bt]=nt,G[ut]=C,ut=Bt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ut=G.pop();if(ut!==nt){G[0]=ut;t:for(var Bt=0,C=G.length,K=C>>>1;Bt<K;){var it=2*(Bt+1)-1,J=G[it],ct=it+1,Rt=G[ct];if(0>u(J,ut))ct<C&&0>u(Rt,J)?(G[Bt]=Rt,G[ct]=ut,Bt=ct):(G[Bt]=J,G[it]=ut,Bt=it);else if(ct<C&&0>u(Rt,ut))G[Bt]=Rt,G[ct]=ut,Bt=ct;else break t}}return nt}function u(G,nt){var ut=G.sortIndex-nt.sortIndex;return ut!==0?ut:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,V=null,I=3,U=!1,H=!1,tt=!1,$=!1,Et=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function It(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=G)a(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=i(_)}}function pt(G){if(tt=!1,It(G),!H)if(i(v)!==null)H=!0,Nt||(Nt=!0,L());else{var nt=i(_);nt!==null&&ie(pt,nt.startTime-G)}}var Nt=!1,O=-1,S=5,w=-1;function N(){return $?!0:!(s.unstable_now()-w<S)}function M(){if($=!1,Nt){var G=s.unstable_now();w=G;var nt=!0;try{t:{H=!1,tt&&(tt=!1,ot(O),O=-1),U=!0;var ut=I;try{e:{for(It(G),V=i(v);V!==null&&!(V.expirationTime>G&&N());){var Bt=V.callback;if(typeof Bt=="function"){V.callback=null,I=V.priorityLevel;var C=Bt(V.expirationTime<=G);if(G=s.unstable_now(),typeof C=="function"){V.callback=C,It(G),nt=!0;break e}V===i(v)&&a(v),It(G)}else a(v);V=i(v)}if(V!==null)nt=!0;else{var K=i(_);K!==null&&ie(pt,K.startTime-G),nt=!1}}break t}finally{V=null,I=ut,U=!1}nt=void 0}}finally{nt?L():Nt=!1}}}var L;if(typeof ht=="function")L=function(){ht(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=M,L=function(){Ne.postMessage(null)}}else L=function(){Et(M,0)};function ie(G,nt){O=Et(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var nt=3;break;default:nt=I}var ut=I;I=nt;try{return G()}finally{I=ut}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=I;I=G;try{return nt()}finally{I=ut}},s.unstable_scheduleCallback=function(G,nt,ut){var Bt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Bt+ut:Bt):ut=Bt,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,G={id:A++,callback:nt,priorityLevel:G,startTime:ut,expirationTime:C,sortIndex:-1},ut>Bt?(G.sortIndex=ut,e(_,G),i(v)===null&&G===i(_)&&(tt?(ot(O),O=-1):tt=!0,ie(pt,ut-Bt))):(G.sortIndex=C,e(v,G),H||U||(H=!0,Nt||(Nt=!0,L()))),G},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(G){var nt=I;return function(){var ut=I;I=nt;try{return G.apply(this,arguments)}finally{I=ut}}}}(yf)),yf}var Gp;function wE(){return Gp||(Gp=1,pf.exports=RE()),pf.exports}var _f={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function CE(){if(Qp)return qe;Qp=1;var s=Xf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,U=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:V,integrity:I,fetchPriority:U}):A==="script"&&a.d.X(v,{crossOrigin:V,integrity:I,fetchPriority:U,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:V,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},qe.requestFormReset=function(v){a.d.r(v)},qe.unstable_batchedUpdates=function(v,_){return v(_)},qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.1.0",qe}var Yp;function DE(){if(Yp)return _f.exports;Yp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=CE(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function VE(){if(Fp)return Il;Fp=1;var s=wE(),e=Xf(),i=DE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case $:return"Profiler";case tt:return"StrictMode";case pt:return"Suspense";case Nt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case ot:return(t._context.displayName||"Context")+".Consumer";case It:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function K(t){return{current:t}}function it(t){0>C||(t.current=Bt[C],Bt[C]=null,C--)}function J(t,n){C++,Bt[C]=t.current,t.current=n}var ct=K(null),Rt=K(null),_t=K(null),be=K(null);function Zt(t,n){switch(J(_t,n),J(Rt,t),J(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=dp(n),t=mp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ct),J(ct,t)}function Mn(){it(ct),it(Rt),it(_t)}function Oi(t){t.memoizedState!==null&&J(be,t);var n=ct.current,r=mp(n,t.type);n!==r&&(J(Rt,t),J(ct,r))}function ei(t){Rt.current===t&&(it(ct),it(Rt)),be.current===t&&(it(be),bl._currentValue=ut)}var vr=Object.prototype.hasOwnProperty,Er=s.unstable_scheduleCallback,Tr=s.unstable_cancelCallback,Ts=s.unstable_shouldYield,Wl=s.unstable_requestPaint,fn=s.unstable_now,fc=s.unstable_getCurrentPriorityLevel,As=s.unstable_ImmediatePriority,ha=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,dc=s.unstable_LowPriority,fa=s.unstable_IdlePriority,Ss=s.log,tu=s.unstable_setDisableYieldValue,re=null,qt=null;function en(t){if(typeof Ss=="function"&&tu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Sr,eu=Math.log,mc=Math.LN2;function Sr(t){return t>>>=0,t===0?32:31-(eu(t)/mc|0)|0}var br=256,Rr=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):r||(r=E&~t,r!==0&&(c=wn(r))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):r||(r=l&~t,r!==0&&(c=wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function bs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var t=br;return br<<=1,(br&4194048)===0&&(br=256),t}function ws(){var t=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),t}function ni(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ii(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-ke(r),F=1<<Q;E[Q]=0,b[Q]=-1;var k=P[Q];if(k!==null)for(P[Q]=null,Q=0;Q<k.length;Q++){var j=k[Q];j!==null&&(j.lane&=-536870913)}r&=~F}l!==0&&xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ds(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ma(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Mp(t.type))}function nu(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,he="__reactProps$"+Jt,dn="__reactContainer$"+Jt,Vs="__reactEvents$"+Jt,gc="__reactListeners$"+Jt,Ui="__reactHandles$"+Jt,iu="__reactResources$"+Jt,Cr="__reactMarker$"+Jt;function Li(t){delete t[pe],delete t[he],delete t[Vs],delete t[gc],delete t[Ui]}function ri(t){var n=t[pe];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_p(t);t!==null;){if(r=t[pe])return r;t=_p(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[pe]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Cr]=!0}var Is=new Set,ga={};function Cn(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(ga[t]=n,t=0;t<n.length;t++)Is.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Dr={};function su(t){return vr.call(Dr,t)?!0:vr.call(au,t)?!1:ru.test(t)?Dr[t]=!0:(au[t]=!0,!1)}function zi(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function zn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Vr,lu;function si(t){if(Vr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Vr=n&&n[1]||"",lu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+t+lu}var pa=!1;function ya(t,n){if(!t||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var k=j}Reflect.construct(t,[],F)}else{try{F.call()}catch(j){k=j}t.call(F.prototype)}}else{try{throw Error()}catch(j){k=j}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&k&&typeof j.stack=="string")return[j.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var Q=`
`+b[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?si(r):""}function Ns(t){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return si("Activity");default:return""}}function _a(t){try{var n="";do n+=Ns(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=Os(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function va(t){t._valueTracker||(t._valueTracker=pc(t))}function Ms(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Os(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ir(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yc=/[\n"\\]/g;function fe(t){return t.replace(yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Bi(t,y,Fe(n)):r!=null?Bi(t,y,Fe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Nr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Fe(r):"",n=n!=null?""+Fe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Bi(t,n,r){n==="number"&&Ir(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function li(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Fe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Fe(r):""}function Or(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Fe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Mr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function xs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function Us(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ui=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function Ls(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(nn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));nn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ms(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&li(t,!!r.multiple,n,!1)}}}var Bn=!1;function ou(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(oi!==null||ci!==null)&&(no(),oi&&(n=oi,t=ci,ci=oi=null,Ls(n),t)))for(n=0;n<t.length;n++)Ls(t[n])}}function xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Dn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{pn=!1}var Pn=null,Pi=null,hi=null;function zs(){if(hi)return hi;var t,n=Pi,r=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return hi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Bs(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Re(kt),Lr=A({},kt,{view:0,detail:0}),cu=Re(Lr),Aa,Sa,qn,zr=A({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qn&&(qn&&t.type==="mousemove"?(Aa=t.screenX-qn.screenX,Sa=t.screenY-qn.screenY):Sa=Aa=0,qn=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),yn=Re(zr),hu=A({},zr,{dataTransfer:0}),Ec=Re(hu),Br=A({},Lr,{relatedTarget:0}),ba=Re(Br),Ps=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Re(Ps),fu=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Re(fu),Tc=A({},kt,{data:0}),ks=Re(Tc),Pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function kr(){return js}var gu=A({},Lr,{key:function(t){if(t.key){var n=Pr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Re(gu),pu=A({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Re(pu),fi=A({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),yu=Re(fi),_u=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Re(_u),Eu=A({},zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Re(Eu),Xe=A({},kt,{newState:0,oldState:0}),Tu=Re(Xe),Au=[9,13,27,32],Hn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,p=Dn&&(!Hn||o&&8<o&&11>=o),T=" ",z=!1;function q(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function ye(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Hn&&q(t,n)?(t=zs(),hi=Pi=Pn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function di(t,n,r,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=uo(n,"onChange"),0<n.length&&(r=new Ta("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Gn=null;function Hs(t){up(t,0)}function Su(t){var n=Ln(t);if(Ms(n))return t}function Vd(t,n){if(t==="change")return n}var Id=!1;if(Dn){var Ac;if(Dn){var Sc="oninput"in document;if(!Sc){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Sc=typeof Nd.oninput=="function"}Ac=Sc}else Ac=!1;Id=Ac&&(!document.documentMode||9<document.documentMode)}function Od(){Me&&(Me.detachEvent("onpropertychange",Md),Gn=Me=null)}function Md(t){if(t.propertyName==="value"&&Su(Gn)){var n=[];di(n,Gn,t,gn(t)),ou(Hs,n)}}function Jv(t,n,r){t==="focusin"?(Od(),Me=n,Gn=r,Me.attachEvent("onpropertychange",Md)):t==="focusout"&&Od()}function Wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Gn)}function t0(t,n){if(t==="click")return Su(n)}function e0(t,n){if(t==="input"||t==="change")return Su(n)}function n0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:n0;function Gs(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!vr.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,n){var r=xd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=xd(r)}}function Ld(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ld(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ir(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ir(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var i0=Dn&&"documentMode"in document&&11>=document.documentMode,Va=null,Rc=null,Qs=null,wc=!1;function Bd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||Va==null||Va!==Ir(l)||(l=Va,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qs&&Gs(Qs,l)||(Qs=l,l=uo(Rc,"onSelect"),0<l.length&&(n=new Ta("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Va)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ia={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Cc={},Pd={};Dn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function qr(t){if(Cc[t])return Cc[t];if(!Ia[t])return t;var n=Ia[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pd)return Cc[t]=n[r];return t}var kd=qr("animationend"),jd=qr("animationiteration"),qd=qr("animationstart"),r0=qr("transitionrun"),a0=qr("transitionstart"),s0=qr("transitioncancel"),Hd=qr("transitionend"),Gd=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Vn(t,n){Gd.set(t,n),Cn(n,[t])}var Qd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=Qd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_a(n)},Qd.set(t,n),n)}return{value:t,source:n,stack:_a(n)}}var vn=[],Na=0,Vc=0;function bu(){for(var t=Na,n=Vc=Na=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Yd(r,c,f)}}function Ru(t,n,r,l){vn[Na++]=t,vn[Na++]=n,vn[Na++]=r,vn[Na++]=l,Vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Oa(t,n){return Ru(t,null,null,n),wu(t)}function Yd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<pl)throw pl=0,Lh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function l0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,r,l){return new l0(t,n,r,l)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,n){var r=t.alternate;return r===null?(r=an(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Fd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Nc(t)&&(y=1);else if(typeof t=="string")y=oE(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,r,n,c),t.elementType=w,t.lanes=f,t;case H:return Hr(r.children,c,f,n);case tt:y=8,c|=24;break;case $:return t=an(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case pt:return t=an(13,r,n,c),t.elementType=pt,t.lanes=f,t;case Nt:return t=an(19,r,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case ht:y=10;break t;case ot:y=9;break t;case It:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=an(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Hr(t,n,r,l){return t=an(7,t,l,n),t.lanes=r,t}function Oc(t,n,r){return t=an(6,t,null,n),t.lanes=r,t}function Mc(t,n,r){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xa=[],Ua=0,Du=null,Vu=0,En=[],Tn=0,Gr=null,gi=1,pi="";function Qr(t,n){xa[Ua++]=Vu,xa[Ua++]=Du,Du=t,Vu=n}function Xd(t,n,r){En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=Gr,Gr=t;var l=gi;t=pi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,gi=1<<32-ke(n)+c|r<<c|l,pi=f+t}else gi=1<<f|r<<c|l,pi=t}function xc(t){t.return!==null&&(Qr(t,1),Xd(t,1,0))}function Uc(t){for(;t===Du;)Du=xa[--Ua],xa[Ua]=null,Vu=xa[--Ua],xa[Ua]=null;for(;t===Gr;)Gr=En[--Tn],En[Tn]=null,pi=En[--Tn],En[Tn]=null,gi=En[--Tn],En[Tn]=null}var Ke=null,ae=null,Pt=!1,Yr=null,Qn=!1,Lc=Error(a(519));function Fr(t){var n=Error(a(418,""));throw Xs(_n(n,t)),Lc}function Kd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[pe]=t,n[he]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<_l.length;r++)Dt(_l[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Nr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Or(n,l.value,l.defaultValue,l.children),va(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||fp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Fr(t)}function Zd(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Ke=Ke.return}}function Ys(t){if(t!==Ke)return!1;if(!Pt)return Zd(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jh(t.type,t.memoizedProps)),r=!r),r&&ae&&Fr(t),Zd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Nn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,er(t.type)?(t=nf,nf=null,ae=t):ae=n):ae=Ke?Nn(t.stateNode.nextSibling):null;return!0}function Fs(){ae=Ke=null,Pt=!1}function $d(){var t=Yr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Yr=null),t}function Xs(t){Yr===null?Yr=[t]:Yr.push(t)}var zc=K(null),Xr=null,yi=null;function ki(t,n,r){J(zc,n._currentValue),n._currentValue=r}function _i(t){t._currentValue=zc.current,it(zc)}function Bc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Pc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Bc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ks(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}c=c.return}t!==null&&Pc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Xr=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Jd(Xr,t)}function Nu(t,n){return Xr===null&&Kr(t),Jd(t,n)}function Jd(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},yi===null){if(t===null)throw Error(a(308));yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else yi=yi.next=n;return r}var u0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},o0=s.unstable_scheduleCallback,c0=s.unstable_NormalPriority,ve={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new u0,data:new Map,refCount:0}}function Zs(t){t.refCount--,t.refCount===0&&o0(c0,function(){t.controller.abort()})}var $s=null,jc=0,La=0,za=null;function h0(t,n){if($s===null){var r=$s=[];jc=0,La=Hh(),za={status:"pending",value:void 0,then:function(l){r.push(l)}}}return jc++,n.then(Wd,Wd),n}function Wd(){if(--jc===0&&$s!==null){za!==null&&(za.status="fulfilled");var t=$s;$s=null,La=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function f0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var tm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&h0(t,n),tm!==null&&tm(t,n)};var Zr=K(null);function qc(){var t=Zr.current;return t!==null?t:$t.pooledCache}function Ou(t,n){n===null?J(Zr,Zr.current):J(Zr,n.pool)}function em(){var t=qc();return t===null?null:{parent:ve._currentValue,pool:t}}var Js=Error(a(460)),nm=Error(a(474)),Mu=Error(a(542)),Hc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function rm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sm(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sm(t),t}throw Ws=n,Js}}var Ws=null;function am(){if(Ws===null)throw Error(a(459));var t=Ws;return Ws=null,t}function sm(t){if(t===Js||t===Mu)throw Error(a(483))}var ji=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),Yd(t,null,r),n}return Ru(t,l,n,r),wu(t)}function tl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ds(t,r)}}function Yc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Fc=!1;function el(){if(Fc){var t=za;if(t!==null)throw t}}function nl(t,n,r,l){Fc=!1;var c=t.updateQueue;ji=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,Q=P=b=null,E=f;do{var k=E.lane&-536870913,j=k!==E.lane;if(j?(xt&k)===k:(l&k)===k){k!==0&&k===La&&(Fc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,dt=E;k=n;var Xt=r;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){F=yt.call(Xt,F,k);break t}F=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,k=typeof yt=="function"?yt.call(Xt,F,k):yt,k==null)break t;F=A({},F,k);break t;case 2:ji=!0}}k=E.callback,k!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[k]:j.push(k))}else j={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=j,b=F):Q=Q.next=j,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);Q===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),$i|=y,t.lanes=y,t.memoizedState=F}}function lm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function um(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)lm(r[t],n)}var Ba=K(null),Uu=K(0);function om(t,n){t=Ri,J(Uu,t),J(Ba,n),Ri=t|n.baseLanes}function Xc(){J(Uu,Ri),J(Ba,Ba.current)}function Kc(){Ri=Uu.current,it(Ba),it(Uu)}var Gi=0,St=null,Yt=null,de=null,Lu=!1,Pa=!1,$r=!1,zu=0,il=0,ka=null,d0=0;function ue(){throw Error(a(321))}function Zc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function $c(t,n,r,l,c,f){return Gi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Ym:Fm,$r=!1,f=r(l,c),$r=!1,Pa&&(f=hm(n,r,l,c)),cm(t),f}function cm(t){G.H=Hu;var n=Yt!==null&&Yt.next!==null;if(Gi=0,de=Yt=St=null,Lu=!1,il=0,ka=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&Iu(t)&&(Ce=!0))}function hm(t,n,r,l){St=t;var c=0;do{if(Pa&&(ka=null),il=0,Pa=!1,25<=c)throw Error(a(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=E0,f=n(r,l)}while(Pa);return f}function m0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function Jc(){var t=zu!==0;return zu=0,t}function Wc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function th(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}Gi=0,de=Yt=St=null,Pa=!1,il=zu=0,ka=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?St.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?St.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?St.memoizedState=de=t:de=de.next=t}return de}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var n=il;return il+=1,ka===null&&(ka=[]),t=rm(ka,t,n),n=St,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ym:Fm),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ht)return je(t)}throw Error(a(438,String(t)))}function nh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=eh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=me();return ih(n,Yt,t)}function ih(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,Q=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(xt&F)===F:(Gi&F)===F){var k=P.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===La&&(Q=!0);else if((Gi&k)===k){P=P.next,k===La&&(Q=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,St.lanes|=k,$i|=k;F=P.action,$r&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else k={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,St.lanes|=F,$i|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(Ce=!0,Q&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function fm(t,n,r){var l=St,c=me(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!rn((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=gm.bind(null,l,c,t);if(al(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ja(9,ku(),mm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Gi&124)!==0||dm(l,n,r)}return r}function dm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=eh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function mm(t,n,r,l){n.value=r,n.getSnapshot=l,pm(n)&&ym(t)}function gm(t,n,r){return r(function(){pm(n)&&ym(t)})}function pm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function ym(t){var n=Oa(t,2);n!==null&&cn(n,t,2)}function ah(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),$r){en(!0);try{r()}finally{en(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function _m(t,n,r,l){return t.baseState=r,ih(t,Yt,typeof l=="function"?l:vi)}function g0(t,n,r,l,c){if(qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,vm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function vm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=r(c,l),b=G.S;b!==null&&b(y,E),Em(t,n,E)}catch(P){sh(t,n,P)}finally{G.T=f}}else try{f=r(c,l),Em(t,n,f)}catch(P){sh(t,n,P)}}function Em(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Tm(t,n,l)},function(l){return sh(t,n,l)}):Tm(t,n,r)}function Tm(t,n,r){n.status="fulfilled",n.value=r,Am(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,vm(t,r)))}function sh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Am(n),n=n.next;while(n!==l)}t.action=null}function Am(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sm(t,n){return n}function bm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=St;if(Pt){if(ae){e:{for(var c=ae,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Nn(c.nextSibling),l=c.data==="F!";break t}}Fr(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:n},r.queue=l,r=Hm.bind(null,St,l),l.dispatch=r,l=ah(!1),f=hh.bind(null,St,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=g0.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Rm(t){var n=me();return wm(n,Yt,t)}function wm(t,n,r){if(n=ih(t,n,Sm)[0],t=Pu(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=rl(n)}catch(y){throw y===Js?Mu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,ja(9,ku(),p0.bind(null,c,r),null)),[l,f,t]}function p0(t,n){t.action=n}function Cm(t){var n=me(),r=Yt;if(r!==null)return wm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ja(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=eh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ku(){return{destroy:void 0,resource:void 0}}function Dm(){return me().memoizedState}function ju(t,n,r,l){var c=Ze();l=l===void 0?null:l,St.flags|=t,c.memoizedState=ja(1|n,ku(),r,l)}function al(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Zc(l,Yt.memoizedState.deps)?c.memoizedState=ja(n,f,r,l):(St.flags|=t,c.memoizedState=ja(1|n,f,r,l))}function Vm(t,n){ju(8390656,8,t,n)}function Im(t,n){al(2048,8,t,n)}function Nm(t,n){return al(4,2,t,n)}function Om(t,n){return al(4,4,t,n)}function Mm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xm(t,n,r){r=r!=null?r.concat([t]):null,al(4,4,Mm.bind(null,n,t),r)}function lh(){}function Um(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Zc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Lm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Zc(n,l[1]))return l[0];if(l=t(),$r){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l}function uh(t,n,r){return r===void 0||(Gi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Pg(),St.lanes|=t,$i|=t,r)}function zm(t,n,r,l){return rn(r,n)?r:Ba.current!==null?(t=uh(t,r,l),rn(t,n)||(Ce=!0),t):(Gi&42)===0?(Ce=!0,t.memoizedState=r):(t=Pg(),St.lanes|=t,$i|=t,n)}function Bm(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,hh(t,!1,n,r);try{var b=c(),P=G.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Q=f0(b,l);sl(t,n,Q,on(t))}else sl(t,n,l,on(t))}catch(F){sl(t,n,{then:function(){},status:"rejected",reason:F},on())}finally{nt.p=f,G.T=y}}function y0(){}function oh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Pm(t).queue;Bm(t,c,n,ut,r===null?y0:function(){return km(t),r(l)})}function Pm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function km(t){var n=Pm(t).next.queue;sl(t,n,{},on())}function ch(){return je(bl)}function jm(){return me().memoizedState}function qm(){return me().memoizedState}function _0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=qi(r);var l=Hi(n,t,r);l!==null&&(cn(l,n,r),tl(l,n,r)),n={cache:kc()},t.payload=n;return}n=n.return}}function v0(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?Gm(n,r):(r=Ic(t,n,r,l),r!==null&&(cn(r,t,l),Qm(r,n,l)))}function Hm(t,n,r){var l=on();sl(t,n,r,l)}function sl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Gm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return Ru(t,n,c,0),$t===null&&bu(),!1}catch{}finally{}if(r=Ic(t,n,c,l),r!==null)return cn(r,t,l),Qm(r,n,l),!0}return!1}function hh(t,n,r,l){if(l={lane:2,revertLane:Hh(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(a(479))}else n=Ic(t,r,l,2),n!==null&&cn(n,t,2)}function qu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Gm(t,n){Pa=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ds(t,r)}}var Hu={readContext:je,use:Bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Ym={readContext:je,use:Bu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Vm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ju(4194308,4,Mm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if($r){en(!0);try{t()}finally{en(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if($r){en(!0);try{r(n)}finally{en(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=v0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=ah(t);var n=t.queue,r=Hm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:lh,useDeferredValue:function(t,n){var r=Ze();return uh(r,t,n)},useTransition:function(){var t=ah(!1);return t=Bm.bind(null,St,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=Ze();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(xt&124)!==0||dm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Vm(gm.bind(null,l,f,t),[t]),l.flags|=2048,ja(9,ku(),mm.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Pt){var r=pi,l=gi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=d0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ch,useFormState:bm,useActionState:bm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=hh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:nh,useCacheRefresh:function(){return Ze().memoizedState=_0.bind(null,St)}},Fm={readContext:je,use:Bu,useCallback:Um,useContext:je,useEffect:Im,useImperativeHandle:xm,useInsertionEffect:Nm,useLayoutEffect:Om,useMemo:Lm,useReducer:Pu,useRef:Dm,useState:function(){return Pu(vi)},useDebugValue:lh,useDeferredValue:function(t,n){var r=me();return zm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Pu(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:fm,useId:jm,useHostTransitionStatus:ch,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,n){var r=me();return _m(r,Yt,t,n)},useMemoCache:nh,useCacheRefresh:qm},E0={readContext:je,use:Bu,useCallback:Um,useContext:je,useEffect:Im,useImperativeHandle:xm,useInsertionEffect:Nm,useLayoutEffect:Om,useMemo:Lm,useReducer:rh,useRef:Dm,useState:function(){return rh(vi)},useDebugValue:lh,useDeferredValue:function(t,n){var r=me();return Yt===null?uh(r,t,n):zm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=rh(vi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:fm,useId:jm,useHostTransitionStatus:ch,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,n){var r=me();return Yt!==null?_m(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:nh,useCacheRefresh:qm},qa=null,ll=0;function Gu(t){var n=ll;return ll+=1,qa===null&&(qa=[]),rm(qa,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xm(t){var n=t._init;return n(t._payload)}function Km(t){function n(x,D){if(t){var B=x.deletions;B===null?(x.deletions=[D],x.flags|=16):B.push(D)}}function r(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=mi(x,D),x.index=0,x.sibling=null,x}function f(x,D,B){return x.index=B,t?(B=x.alternate,B!==null?(B=B.index,B<D?(x.flags|=67108866,D):B):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,B,Y){return D===null||D.tag!==6?(D=Oc(B,x.mode,Y),D.return=x,D):(D=c(D,B),D.return=x,D)}function b(x,D,B,Y){var at=B.type;return at===H?Q(x,D,B.props.children,Y,B.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Xm(at)===D.type)?(D=c(D,B.props),ul(D,B),D.return=x,D):(D=Cu(B.type,B.key,B.props,null,x.mode,Y),ul(D,B),D.return=x,D)}function P(x,D,B,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Mc(B,x.mode,Y),D.return=x,D):(D=c(D,B.children||[]),D.return=x,D)}function Q(x,D,B,Y,at){return D===null||D.tag!==7?(D=Hr(B,x.mode,Y,at),D.return=x,D):(D=c(D,B),D.return=x,D)}function F(x,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Oc(""+D,x.mode,B),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return B=Cu(D.type,D.key,D.props,null,x.mode,B),ul(B,D),B.return=x,B;case U:return D=Mc(D,x.mode,B),D.return=x,D;case S:var Y=D._init;return D=Y(D._payload),F(x,D,B)}if(ie(D)||L(D))return D=Hr(D,x.mode,B,null),D.return=x,D;if(typeof D.then=="function")return F(x,Gu(D),B);if(D.$$typeof===ht)return F(x,Nu(x,D),B);Qu(x,D)}return null}function k(x,D,B,Y){var at=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return at!==null?null:E(x,D,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===at?b(x,D,B,Y):null;case U:return B.key===at?P(x,D,B,Y):null;case S:return at=B._init,B=at(B._payload),k(x,D,B,Y)}if(ie(B)||L(B))return at!==null?null:Q(x,D,B,Y,null);if(typeof B.then=="function")return k(x,D,Gu(B),Y);if(B.$$typeof===ht)return k(x,D,Nu(x,B),Y);Qu(x,B)}return null}function j(x,D,B,Y,at){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(B)||null,E(D,x,""+Y,at);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return x=x.get(Y.key===null?B:Y.key)||null,b(D,x,Y,at);case U:return x=x.get(Y.key===null?B:Y.key)||null,P(D,x,Y,at);case S:var wt=Y._init;return Y=wt(Y._payload),j(x,D,B,Y,at)}if(ie(Y)||L(Y))return x=x.get(B)||null,Q(D,x,Y,at,null);if(typeof Y.then=="function")return j(x,D,B,Gu(Y),at);if(Y.$$typeof===ht)return j(x,D,B,Nu(D,Y),at);Qu(D,Y)}return null}function yt(x,D,B,Y){for(var at=null,wt=null,st=D,mt=D=0,Ve=null;st!==null&&mt<B.length;mt++){st.index>mt?(Ve=st,st=null):Ve=st.sibling;var zt=k(x,st,B[mt],Y);if(zt===null){st===null&&(st=Ve);break}t&&st&&zt.alternate===null&&n(x,st),D=f(zt,D,mt),wt===null?at=zt:wt.sibling=zt,wt=zt,st=Ve}if(mt===B.length)return r(x,st),Pt&&Qr(x,mt),at;if(st===null){for(;mt<B.length;mt++)st=F(x,B[mt],Y),st!==null&&(D=f(st,D,mt),wt===null?at=st:wt.sibling=st,wt=st);return Pt&&Qr(x,mt),at}for(st=l(st);mt<B.length;mt++)Ve=j(st,x,mt,B[mt],Y),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?mt:Ve.key),D=f(Ve,D,mt),wt===null?at=Ve:wt.sibling=Ve,wt=Ve);return t&&st.forEach(function(sr){return n(x,sr)}),Pt&&Qr(x,mt),at}function dt(x,D,B,Y){if(B==null)throw Error(a(151));for(var at=null,wt=null,st=D,mt=D=0,Ve=null,zt=B.next();st!==null&&!zt.done;mt++,zt=B.next()){st.index>mt?(Ve=st,st=null):Ve=st.sibling;var sr=k(x,st,zt.value,Y);if(sr===null){st===null&&(st=Ve);break}t&&st&&sr.alternate===null&&n(x,st),D=f(sr,D,mt),wt===null?at=sr:wt.sibling=sr,wt=sr,st=Ve}if(zt.done)return r(x,st),Pt&&Qr(x,mt),at;if(st===null){for(;!zt.done;mt++,zt=B.next())zt=F(x,zt.value,Y),zt!==null&&(D=f(zt,D,mt),wt===null?at=zt:wt.sibling=zt,wt=zt);return Pt&&Qr(x,mt),at}for(st=l(st);!zt.done;mt++,zt=B.next())zt=j(st,x,mt,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?mt:zt.key),D=f(zt,D,mt),wt===null?at=zt:wt.sibling=zt,wt=zt);return t&&st.forEach(function(TE){return n(x,TE)}),Pt&&Qr(x,mt),at}function Xt(x,D,B,Y){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:t:{for(var at=B.key;D!==null;){if(D.key===at){if(at=B.type,at===H){if(D.tag===7){r(x,D.sibling),Y=c(D,B.props.children),Y.return=x,x=Y;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Xm(at)===D.type){r(x,D.sibling),Y=c(D,B.props),ul(Y,B),Y.return=x,x=Y;break t}r(x,D);break}else n(x,D);D=D.sibling}B.type===H?(Y=Hr(B.props.children,x.mode,Y,B.key),Y.return=x,x=Y):(Y=Cu(B.type,B.key,B.props,null,x.mode,Y),ul(Y,B),Y.return=x,x=Y)}return y(x);case U:t:{for(at=B.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){r(x,D.sibling),Y=c(D,B.children||[]),Y.return=x,x=Y;break t}else{r(x,D);break}else n(x,D);D=D.sibling}Y=Mc(B,x.mode,Y),Y.return=x,x=Y}return y(x);case S:return at=B._init,B=at(B._payload),Xt(x,D,B,Y)}if(ie(B))return yt(x,D,B,Y);if(L(B)){if(at=L(B),typeof at!="function")throw Error(a(150));return B=at.call(B),dt(x,D,B,Y)}if(typeof B.then=="function")return Xt(x,D,Gu(B),Y);if(B.$$typeof===ht)return Xt(x,D,Nu(x,B),Y);Qu(x,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(r(x,D.sibling),Y=c(D,B),Y.return=x,x=Y):(r(x,D),Y=Oc(B,x.mode,Y),Y.return=x,x=Y),y(x)):r(x,D)}return function(x,D,B,Y){try{ll=0;var at=Xt(x,D,B,Y);return qa=null,at}catch(st){if(st===Js||st===Mu)throw st;var wt=an(29,st,null,x.mode);return wt.lanes=Y,wt.return=x,wt}finally{}}}var Ha=Km(!0),Zm=Km(!1),An=K(null),Yn=null;function Qi(t){var n=t.alternate;J(Ee,Ee.current&1),J(An,t),Yn===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(Yn=t)}function $m(t){if(t.tag===22){if(J(Ee,Ee.current),J(An,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Yi()}function Yi(){J(Ee,Ee.current),J(An,An.current)}function Ei(t){it(An),Yn===t&&(Yn=null),it(Ee)}var Ee=K(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ef(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=qi(l);c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(cn(n,t,l),tl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(cn(n,t,l),tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=qi(r);l.tag=2,n!=null&&(l.callback=n),n=Hi(t,l,r),n!==null&&(cn(n,t,r),tl(n,t,r))}};function Jm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Gs(r,l)||!Gs(c,f):!0}function Wm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&dh.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tg(t){Fu(t)}function eg(t){console.error(t)}function ng(t){Fu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ig(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mh(t,n,r){return r=qi(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function rg(t){return t=qi(t),t.tag=3,t}function ag(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ig(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ig(n,r,l),typeof c!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function T0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ks(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Yn===null?Bh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return r.flags|=65536,l===Hc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),kh(t,l,c)),!1}throw Error(a(435,r.tag))}return kh(t,l,c),Bh(),!1}if(Pt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Lc&&(t=Error(a(422),{cause:l}),Xs(_n(t,r)))):(l!==Lc&&(n=Error(a(423),{cause:l}),Xs(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=mh(t.stateNode,l,c),Yc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),gl===null?gl=[f]:gl.push(f),se!==4&&(se=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=mh(r.stateNode,l,t),Yc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=rg(c),ag(c,t,r,l),Yc(r,c),!1}r=r.return}while(r!==null);return!1}var sg=Error(a(461)),Ce=!1;function xe(t,n,r,l){n.child=t===null?Zm(n,null,r,l):Ha(n,t.child,r,l)}function lg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Kr(n),l=$c(t,n,r,y,f,c),E=Jc(),t!==null&&!Ce?(Wc(t,n,c),Ti(t,n,c)):(Pt&&E&&xc(n),n.flags|=1,xe(t,n,l,c),n.child)}function ug(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Nc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,og(t,n,f,l,c)):(t=Cu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ah(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Gs,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function og(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Gs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,Ah(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return gh(t,n,r,l,c)}function cg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return hg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?om(n,f):Xc(),$m(n);else return n.lanes=n.childLanes=536870912,hg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ou(n,f.cachePool),om(n,f),Yi(),n.memoizedState=null):(t!==null&&Ou(n,null),Xc(),Yi());return xe(t,n,c,r),n.child}function hg(t,n,r,l){var c=qc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ou(n,null),Xc(),$m(n),t!==null&&Ks(t,n,l,!0),null}function Ku(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function gh(t,n,r,l,c){return Kr(n),r=$c(t,n,r,l,void 0,c),l=Jc(),t!==null&&!Ce?(Wc(t,n,c),Ti(t,n,c)):(Pt&&l&&xc(n),n.flags|=1,xe(t,n,r,c),n.child)}function fg(t,n,r,l,c,f){return Kr(n),n.updateQueue=null,r=hm(n,l,r,c),cm(t),l=Jc(),t!==null&&!Ce?(Wc(t,n,f),Ti(t,n,f)):(Pt&&l&&xc(n),n.flags|=1,xe(t,n,r,f),n.child)}function dg(t,n,r,l,c){if(Kr(n),n.stateNode===null){var f=Ma,y=r.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?je(y):Ma,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(fh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dh.enqueueReplaceState(f,f.state,null),nl(n,l,f,c),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Jr(r,E);f.props=b;var P=f.context,Q=r.contextType;y=Ma,typeof Q=="object"&&Q!==null&&(y=je(Q));var F=r.getDerivedStateFromProps;Q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Wm(n,f,l,y),ji=!1;var k=n.memoizedState;f.state=k,nl(n,l,f,c),el(),P=n.memoizedState,E||k!==P||ji?(typeof F=="function"&&(fh(n,r,F,l),P=n.memoizedState),(b=ji||Jm(n,r,b,l,k,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(t,n),y=n.memoizedProps,Q=Jr(r,y),f.props=Q,F=n.pendingProps,k=f.context,P=r.contextType,b=Ma,typeof P=="object"&&P!==null&&(b=je(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||k!==b)&&Wm(n,f,l,b),ji=!1,k=n.memoizedState,f.state=k,nl(n,l,f,c),el();var j=n.memoizedState;y!==F||k!==j||ji||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(fh(n,r,E,l),j=n.memoizedState),(Q=ji||Jm(n,r,Q,l,k,j,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=b,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ha(n,t.child,null,c),n.child=Ha(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function mg(t,n,r,l){return Fs(),n.flags|=256,xe(t,n,r,l),n.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:em()}}function _h(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function gg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Qi(n):Yi(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Qn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Nn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Gr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ke=n,ae=null,b=!0):b=!1}b||Fr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ef(E)?n.lanes=32:n.lanes=536870912,null;Ei(n)}return E=l.children,l=l.fallback,c?(Yi(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=Hr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=yh(r),c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Qi(n),vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Qi(n),n.flags&=-257,n=Eh(t,n,r)):n.memoizedState!==null?(Yi(),n.child=t.child,n.flags|=128,n=null):(Yi(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=Hr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ha(n,t.child,null,r),l=n.child,l.memoizedState=yh(r),l.childLanes=_h(t,y,r),n.memoizedState=ph,n=c);else if(Qi(n),ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Xs({value:l,source:null,stack:null}),n=Eh(t,n,r)}else if(Ce||Ks(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Mi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Oa(t,l),cn(y,t,l),sg;E.data==="$?"||Bh(),n=Eh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Nn(E.nextSibling),Ke=n,Pt=!0,Yr=null,Qn=!1,t!==null&&(En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=Gr,gi=t.id,pi=t.overflow,Gr=n),n=vh(n,l.children),n.flags|=4096);return n}return c?(Yi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=mi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=mi(P,c):(c=Hr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=yh(r):(b=E.cachePool,b!==null?(P=ve._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=em(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=_h(t,y,r),n.memoizedState=ph,l):(Qi(n),r=t.child,t=r.sibling,r=mi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function vh(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eh(t,n,r){return Ha(n,t.child,null,r),t=vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function pg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bc(t.return,n,r)}function Th(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function yg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,r,n);else if(t.tag===19)pg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Th(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Th(n,!0,r,null,f);break;case"together":Th(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$i|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ks(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=mi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=mi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ah(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function A0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ki(n,ve,t.memoizedState.cache),Fs();break;case 27:case 5:Oi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?gg(t,n,r):(Qi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Qi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ks(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return yg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,cg(t,n,r);case 24:ki(n,ve,t.memoizedState.cache)}return Ti(t,n,r)}function _g(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Ah(t,r)&&(n.flags&128)===0)return Ce=!1,A0(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Pt&&(n.flags&1048576)!==0&&Xd(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Nc(l)?(t=Jr(l,t),n.tag=1,n=dg(null,n,l,t,r)):(n.tag=0,n=gh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===It){n.tag=11,n=lg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=ug(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return gh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Jr(l,n.pendingProps),dg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(t,n),nl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,ki(n,ve,l),l!==f.cache&&Pc(n,[ve],r,!0),el(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=mg(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),Xs(c),n=mg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Nn(t.firstChild),Ke=n,Pt=!0,Yr=null,Qn=!0,r=Zm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Fs(),l===c){n=Ti(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return Ku(t,n),t===null?(r=Ap(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(_t.current).createElement(r),l[pe]=n,l[he]=t,Le(l,r,t),le(l),n.stateNode=l):n.memoizedState=Ap(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Pt&&(l=n.stateNode=vp(n.type,n.pendingProps,_t.current),Ke=n,Qn=!0,c=ae,er(n.type)?(nf=c,ae=Nn(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=Z0(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Ke=n,ae=Nn(l.firstChild),Qn=!1,c=!0):c=!1),c||Fr(n)),Oi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Jh(c,f)?l=null:y!==null&&Jh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=$c(t,n,m0,null,null,r),bl._currentValue=c),Ku(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=$0(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Ke=n,ae=null,t=!0):t=!1),t||Fr(n)),null;case 13:return gg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ha(n,null,l,r):xe(t,n,l,r),n.child;case 11:return lg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ki(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Kr(n),c=je(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return ug(t,n,n.type,n.pendingProps,r);case 15:return og(t,n,n.type,n.pendingProps,r);case 19:return yg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=mi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return cg(t,n,r);case 24:return Kr(n),l=je(ve),t===null?(c=qc(),c===null&&(c=$t,f=kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Gc(n),ki(n,ve,c)):((t.lanes&r)!==0&&(Qc(t,n),nl(n,null,null,r),el()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ki(n,ve,l)):(l=f.cache,ki(n,ve,l),l!==c.cache&&Pc(n,[ve],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ai(t){t.flags|=4}function vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(n)){if(n=An.current,n!==null&&((xt&4194048)===xt?Yn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Yn))throw Ws=Hc,nm;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ws():536870912,t.lanes|=n,Fa|=n)}function ol(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function S0(t,n,r){var l=n.pendingProps;switch(Uc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),_i(ve),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Ai(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$d())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ai(n),r!==null?(ee(n),vg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ai(n),ee(n),vg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ai(n),ee(n),n.flags&=-16777217),null;case 27:ei(n),r=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ct.current,Ys(n)?Kd(n):(t=vp(c,l,r),n.stateNode=t,Ai(n))}return ee(n),null;case 5:if(ei(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ct.current,Ys(n))Kd(n);else{switch(c=co(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[pe]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ai(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=_t.current,Ys(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||fp(t.nodeValue,r)),t||Fr(n)}else t=co(t).createTextNode(l),t[pe]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[pe]=n}else Fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=$d(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null;case 4:return Mn(),t===null&&Fh(n.stateNode.containerInfo),ee(n),null;case 10:return _i(n.type),ee(n),null;case 19:if(it(Ee),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ol(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,ol(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Fd(r,t),r=r.sibling;return J(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>to&&(n.flags|=128,l=!0,ol(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),ol(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*fn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,ol(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ee.current,J(Ee,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ei(n),Kc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(Zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),_i(ve),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function b0(t,n){switch(Uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _i(ve),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ei(n),null;case 13:if(Ei(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Ee),null;case 4:return Mn(),null;case 10:return _i(n.type),null;case 22:case 23:return Ei(n),Kc(),t!==null&&it(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return _i(ve),null;case 25:return null;default:return null}}function Eg(t,n){switch(Uc(n),n.tag){case 3:_i(ve),Mn();break;case 26:case 27:case 5:ei(n);break;case 4:Mn();break;case 13:Ei(n);break;case 19:it(Ee);break;case 10:_i(n.type);break;case 22:case 23:Ei(n),Kc(),t!==null&&it(Zr);break;case 24:_i(ve)}}function cl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Fi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(Q){Kt(c,b,Q)}}}l=l.next}while(l!==f)}}catch(Q){Kt(n,n.return,Q)}}function Tg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{um(n,r)}catch(l){Kt(t,t.return,l)}}}function Ag(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function hl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Fn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Sg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Sh(t,n,r){try{var l=t.stateNode;Q0(l,t.type,r,n),l[he]=n}catch(c){Kt(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Rh(t,n,r),t=t.sibling;t!==null;)Rh(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function Rg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[pe]=t,n[he]=r}catch(f){Kt(t,t.return,f)}}var Si=!1,oe=!1,wh=!1,wg=typeof WeakSet=="function"?WeakSet:Set,De=null;function R0(t,n){if(t=t.containerInfo,Zh=yo,t=zd(t),bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,Q=0,F=t,k=null;e:for(;;){for(var j;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(j=F.firstChild)!==null;)k=F,F=j;for(;;){if(F===t)break e;if(k===r&&++P===c&&(E=y),k===f&&++Q===l&&(b=y),(j=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=j}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},yo=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=Jr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Kt(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Cg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(t,r),l&4&&cl(5,r);break;case 1:if(Xi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Tg(r),l&512&&hl(r,r.return);break;case 3:if(Xi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{um(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Rg(r);case 26:case 5:Xi(t,r),n===null&&l&4&&Sg(r),l&512&&hl(r,r.return);break;case 12:Xi(t,r);break;case 13:Xi(t,r),l&4&&Ig(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=x0.bind(null,r),J0(t,r))));break;case 22:if(l=r.memoizedState!==null||Si,!l){n=n!==null&&n.memoizedState!==null||oe,c=Si;var f=oe;Si=l,(oe=n)&&!f?Ki(t,r,(r.subtreeFlags&8772)!==0):Xi(t,r),Si=c,oe=f}break;case 30:break;default:Xi(t,r)}}function Dg(t){var n=t.alternate;n!==null&&(t.alternate=null,Dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Li(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,$e=!1;function bi(t,n,r){for(r=r.child;r!==null;)Vg(t,n,r),r=r.sibling}function Vg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Fn(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Fn(r,n);var l=Wt,c=$e;er(r.type)&&(Wt=r.stateNode,$e=!1),bi(t,n,r),El(r.stateNode),Wt=l,$e=c;break;case 5:oe||Fn(r,n);case 6:if(l=Wt,c=$e,Wt=null,bi(t,n,r),Wt=l,$e=c,Wt!==null)if($e)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:Wt!==null&&($e?(t=Wt,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Dl(t)):yp(Wt,r.stateNode));break;case 4:l=Wt,c=$e,Wt=r.stateNode.containerInfo,$e=!0,bi(t,n,r),Wt=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Fi(2,r,n),oe||Fi(4,r,n),bi(t,n,r);break;case 1:oe||(Fn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ag(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,bi(t,n,r),oe=l;break;default:bi(t,n,r)}}function Ig(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(r){Kt(n,n.return,r)}}function w0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wg),n;default:throw Error(a(435,t.tag))}}function Ch(t,n){var r=w0(t);n.forEach(function(l){var c=U0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){Wt=E.stateNode,$e=!1;break t}break;case 5:Wt=E.stateNode,$e=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Wt===null)throw Error(a(160));Vg(f,y,c),Wt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ng(n,t),n=n.sibling}var In=null;function Ng(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),ln(t),l&4&&(Fi(3,t,t.return),cl(3,t),Fi(5,t,t.return));break;case 1:sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[pe]=t,le(f),l=f;break t;case"link":var y=Rp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Rp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[pe]=t,le(f),l=f}t.stateNode=l}else wp(c,t.type,t.stateNode);else t.stateNode=bp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?wp(c,t.type,t.stateNode):bp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sh(t,t.memoizedProps,r.memoizedProps)}break;case 27:sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),r!==null&&l&4&&Sh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,t),ln(t),l&512&&(oe||r===null||Fn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(j){Kt(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Sh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(wh=!0);break;case 6:if(sn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){Kt(t,t.return,j)}}break;case 3:if(mo=null,c=In,In=ho(n.containerInfo),sn(n,t),In=c,ln(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Dl(n.containerInfo)}catch(j){Kt(t,t.return,j)}wh&&(wh=!1,Og(t));break;case 4:l=In,In=ho(t.stateNode.containerInfo),sn(n,t),ln(t),In=l;break;case 12:sn(n,t),ln(t);break;case 13:sn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mh=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Si,Q=oe;if(Si=P||c,oe=Q||b,sn(n,t),oe=Q,Si=P,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Si||oe||Wr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(j){Kt(b,b.return,j)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(j){Kt(b,b.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ch(t,r))));break;case 19:sn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 30:break;case 21:break;default:sn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(bg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=bh(t);Ju(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var E=bh(t);Ju(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=bh(t);Rh(t,P,b);break;default:throw Error(a(161))}}catch(Q){Kt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Og(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Og(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cg(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),Wr(n);break;case 1:Fn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ag(n,n.return,r),Wr(n);break;case 27:El(n.stateNode);case 26:case 5:Fn(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function Ki(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,r),cl(4,f);break;case 1:if(Ki(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)lm(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&y&64&&Tg(f),hl(f,f.return);break;case 27:Rg(f);case 26:case 5:Ki(c,f,r),r&&l===null&&y&4&&Sg(f),hl(f,f.return);break;case 12:Ki(c,f,r);break;case 13:Ki(c,f,r),r&&y&4&&Ig(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,r),hl(f,f.return);break;case 30:break;default:Ki(c,f,r)}n=n.sibling}}function Dh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Zs(r))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zs(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mg(t,n,r,l),n=n.sibling}function Mg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&cl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zs(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):fl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Ga(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Dh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Vh(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ga(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(f,y,E,b,c),cl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ga(f,y,E,b,c):fl(f,y):(Q._visibility|=2,Ga(f,y,E,b,c)),c&&P&2048&&Dh(y.alternate,y);break;case 24:Ga(f,y,E,b,c),c&&P&2048&&Vh(y.alternate,y);break;default:Ga(f,y,E,b,c)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:fl(r,l),c&2048&&Dh(l.alternate,l);break;case 24:fl(r,l),c&2048&&Vh(l.alternate,l);break;default:fl(r,l)}n=n.sibling}}var dl=8192;function Qa(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 26:Qa(t),t.flags&dl&&t.memoizedState!==null&&hE(In,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var n=In;In=ho(t.stateNode.containerInfo),Qa(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=dl,dl=16777216,Qa(t),dl=n):Qa(t));break;default:Qa(t)}}function Ug(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,zg(l,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):ml(t);break;default:ml(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,zg(l,t)}Ug(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function zg(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Fi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(Dg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var C0={getCacheForType:function(t){var n=je(ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},D0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Ct=null,xt=0,Gt=0,un=null,Zi=!1,Ya=!1,Ih=!1,Ri=0,se=0,$i=0,ta=0,Nh=0,Sn=0,Fa=0,gl=null,Je=null,Oh=!1,Mh=0,to=1/0,eo=null,Ji=null,Ue=0,Wi=null,Xa=null,Ka=0,xh=0,Uh=null,Bg=null,pl=0,Lh=null;function on(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(G.T!==null){var t=La;return t!==0?t:Hh()}return xi()}function Pg(){Sn===0&&(Sn=(xt&536870912)===0||Pt?Rs():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function cn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Za(t,0),tr(t,xt,Sn,!1)),ii(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(ta|=r),se===4&&tr(t,xt,Sn,!1)),Kn(t))}function kg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||wr(t,n),c=l?N0(t,n):Ph(t,n,!0),f=l;do{if(c===0){Ya&&!l&&tr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!V0(r)){c=Ph(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=gl;var b=E.current.memoizedState.isDehydrated;if(b&&(Za(E,y).flags|=256),y=Ph(E,y,!1),y!==2){if(Ih&&!b){E.errorRecoveryDisabledLanes|=f,ta|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Za(t,0),tr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:tr(l,n,Sn,!Zi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Mh+300-fn(),10<c)){if(tr(l,n,Sn,!Zi),da(l,0,!0)!==0)break t;l.timeoutHandle=gp(jg.bind(null,l,r,Je,eo,Oh,n,Sn,ta,Fa,Zi,f,2,-0,0),c);break t}jg(l,r,Je,eo,Oh,n,Sn,ta,Fa,Zi,f,0,-0,0)}}break}while(!0);Kn(t)}function jg(t,n,r,l,c,f,y,E,b,P,Q,F,k,j){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:cE},xg(n),F=fE(),F!==null)){t.cancelPendingCommit=F(Xg.bind(null,t,n,f,r,l,c,y,E,b,Q,1,k,j)),tr(t,f,y,!P);return}Xg(t,n,f,r,l,c,y,E,b)}function V0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(t,n,r,l){n&=~Nh,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&xn(t,r,n)}function no(){return(Ht&6)===0?(yl(0),!1):!0}function zh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,yi=Xr=null,th(t),qa=null,ll=0,t=Ct;for(;t!==null;)Eg(t.alternate,t),t=t.return;Ct=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,F0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),zh(),$t=t,Ct=r=mi(t.current,null),xt=n,Gt=0,un=null,Zi=!1,Ya=wr(t,n),Ih=!1,Fa=Sn=Nh=ta=$i=se=0,Je=gl=null,Oh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ri=n,bu(),r}function qg(t,n){St=null,G.H=Hu,n===Js||n===Mu?(n=am(),Gt=3):n===nm?(n=am(),Gt=4):Gt=n===sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Ct===null&&(se=1,Xu(t,_n(n,t.current)))}function Hg(){var t=G.H;return G.H=Hu,t===null?Hu:t}function Gg(){var t=G.A;return G.A=C0,t}function Bh(){se=4,Zi||(xt&4194048)!==xt&&An.current!==null||(Ya=!0),($i&134217727)===0&&(ta&134217727)===0||$t===null||tr($t,xt,Sn,!1)}function Ph(t,n,r){var l=Ht;Ht|=2;var c=Hg(),f=Gg();($t!==t||xt!==n)&&(eo=null,Za(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=un;switch(Gt){case 8:zh(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Gt;if(Gt=0,un=null,$a(t,E,b,P),r&&Ya){y=0;break t}break;default:P=Gt,Gt=0,un=null,$a(t,E,b,P)}}I0(),y=se;break}catch(Q){qg(t,Q)}while(!0);return n&&t.shellSuspendCounter++,yi=Xr=null,Ht=l,G.H=c,G.A=f,Ct===null&&($t=null,xt=0,bu()),y}function I0(){for(;Ct!==null;)Qg(Ct)}function N0(t,n){var r=Ht;Ht|=2;var l=Hg(),c=Gg();$t!==t||xt!==n?(eo=null,to=fn()+500,Za(t,n)):Ya=wr(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=un;e:switch(Gt){case 1:Gt=0,un=null,$a(t,n,f,1);break;case 2:case 9:if(im(f)){Gt=0,un=null,Yg(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Kn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:im(f)?(Gt=0,un=null,Yg(n)):(Gt=0,un=null,$a(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||Cp(y)){Gt=0,un=null;var b=E.sibling;if(b!==null)Ct=b;else{var P=E.return;P!==null?(Ct=P,io(P)):Ct=null}break e}}Gt=0,un=null,$a(t,n,f,5);break;case 6:Gt=0,un=null,$a(t,n,f,6);break;case 8:zh(),se=6;break t;default:throw Error(a(462))}}O0();break}catch(Q){qg(t,Q)}while(!0);return yi=Xr=null,G.H=l,G.A=c,Ht=r,Ct!==null?0:($t=null,xt=0,bu(),se)}function O0(){for(;Ct!==null&&!Ts();)Qg(Ct)}function Qg(t){var n=_g(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,n===null?io(t):Ct=n}function Yg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=fg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:th(n);default:Eg(r,n),n=Ct=Fd(n,Ri),n=_g(r,n,Ri)}t.memoizedProps=t.pendingProps,n===null?io(t):Ct=n}function $a(t,n,r,l){yi=Xr=null,th(n),qa=null,ll=0;var c=n.return;try{if(T0(t,c,n,r,xt)){se=1,Xu(t,_n(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;se=1,Xu(t,_n(r,t.current)),Ct=null;return}n.flags&32768?(Pt||l===1?t=!0:Ya||(xt&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,Zi);return}t=n.return;var r=S0(n.alternate,n,Ri);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);se===0&&(se=5)}function Fg(t,n){do{var r=b0(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);se=6,Ct=null}function Xg(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ro();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vc,Cs(t,r,f,y,E,b),t===$t&&(Ct=$t=null,xt=0),Xa=n,Wi=t,Ka=r,xh=f,Uh=c,Bg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,L0(Ar,function(){return Wg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=nt.p,nt.p=2,y=Ht,Ht|=4;try{R0(t,n,r)}finally{Ht=y,nt.p=c,G.T=l}}Ue=1,Kg(),Zg(),$g()}}function Kg(){if(Ue===1){Ue=0;var t=Wi,n=Xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{Ng(n,t);var f=$h,y=zd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Ld(E.ownerDocument.documentElement,E)){if(b!==null&&bc(E)){var P=b.start,Q=b.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var j=k.getSelection(),yt=E.textContent.length,dt=Math.min(b.start,yt),Xt=b.end===void 0?dt:Math.min(b.end,yt);!j.extend&&dt>Xt&&(y=Xt,Xt=dt,dt=y);var x=Ud(E,dt),D=Ud(E,Xt);if(x&&D&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var B=F.createRange();B.setStart(x.node,x.offset),j.removeAllRanges(),dt>Xt?(j.addRange(B),j.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),j.addRange(B))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Y=F[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}yo=!!Zh,$h=Zh=null}finally{Ht=c,nt.p=l,G.T=r}}t.current=n,Ue=2}}function Zg(){if(Ue===2){Ue=0;var t=Wi,n=Xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{Cg(t,n.alternate,n)}finally{Ht=c,nt.p=l,G.T=r}}Ue=3}}function $g(){if(Ue===4||Ue===3){Ue=0,Wl();var t=Wi,n=Xa,r=Ka,l=Bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Xa=Wi=null,Jg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ji=null),ma(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=nt.p,nt.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=c}}(Ka&3)!==0&&ro(),Kn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Lh?pl++:(pl=0,Lh=t):pl=0,yl(0)}}function Jg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zs(n)))}function ro(t){return Kg(),Zg(),$g(),Wg()}function Wg(){if(Ue!==5)return!1;var t=Wi,n=xh;xh=0;var r=ma(Ka),l=G.T,c=nt.p;try{nt.p=32>r?32:r,G.T=null,r=Uh,Uh=null;var f=Wi,y=Ka;if(Ue=0,Xa=Wi=null,Ka=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Lg(f.current),Mg(f,f.current,y,r),Ht=E,yl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{nt.p=c,G.T=l,Jg(t,n)}}function tp(t,n,r){n=_n(r,n),n=mh(t.stateNode,n,2),t=Hi(t,n,2),t!==null&&(ii(t,2),Kn(t))}function Kt(t,n,r){if(t.tag===3)tp(t,t,r);else for(;n!==null;){if(n.tag===3){tp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=_n(r,t),r=rg(2),l=Hi(n,r,2),l!==null&&(ag(r,l,n,t),ii(l,2),Kn(l));break}}n=n.return}}function kh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new D0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ih=!0,c.add(r),t=M0.bind(null,t,n,r),n.then(t,t))}function M0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(se===4||se===3&&(xt&62914560)===xt&&300>fn()-Mh?(Ht&2)===0&&Za(t,0):Nh|=r,Fa===xt&&(Fa=0)),Kn(t)}function ep(t,n){n===0&&(n=ws()),t=Oa(t,n),t!==null&&(ii(t,n),Kn(t))}function x0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),ep(t,r)}function U0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ep(t,r)}function L0(t,n){return Er(t,n)}var ao=null,Ja=null,jh=!1,so=!1,qh=!1,ea=0;function Kn(t){t!==Ja&&t.next===null&&(Ja===null?ao=Ja=t:Ja=Ja.next=t),so=!0,jh||(jh=!0,B0())}function yl(t,n){if(!qh&&so){qh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ap(l,f))}else f=xt,f=da(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wr(l,f)||(r=!0,ap(l,f));l=l.next}while(r);qh=!1}}function z0(){np()}function np(){so=jh=!1;var t=0;ea!==0&&(Y0()&&(t=ea),ea=0);for(var n=fn(),r=null,l=ao;l!==null;){var c=l.next,f=ip(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&(Ja=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}yl(t)}function ip(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=bs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Tr(l),ma(r)){case 2:case 8:r=ha;break;case 32:r=Ar;break;case 268435456:r=fa;break;default:r=Ar}return l=rp.bind(null,t),r=Er(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function rp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=xt;return l=da(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(kg(t,l,n),ip(t,fn()),t.callbackNode!=null&&t.callbackNode===r?rp.bind(null,t):null)}function ap(t,n){if(ro())return null;kg(t,n,!0)}function B0(){X0(function(){(Ht&6)!==0?Er(As,z0):np()})}function Hh(){return ea===0&&(ea=Rs()),ea}function sp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function lp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function P0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=sp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?sp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ta("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ea!==0){var b=y?lp(c,y):new FormData(c);oh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?lp(c,y):new FormData(c),oh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gh=0;Gh<Dc.length;Gh++){var Qh=Dc[Gh],k0=Qh.toLowerCase(),j0=Qh[0].toUpperCase()+Qh.slice(1);Vn(k0,"on"+j0)}Vn(kd,"onAnimationEnd"),Vn(jd,"onAnimationIteration"),Vn(qd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(r0,"onTransitionRun"),Vn(a0,"onTransitionStart"),Vn(s0,"onTransitionCancel"),Vn(Hd,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function up(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){Fu(Q)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){Fu(Q)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[Vs];r===void 0&&(r=n[Vs]=new Set);var l=t+"__bubble";r.has(l)||(op(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),op(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[lo]){t[lo]=!0,Is.forEach(function(r){r!=="selectionchange"&&(q0.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Yh("selectionchange",!1,n))}}function op(t,n,r,l){switch(Mp(n)){case 2:var c=gE;break;case 8:c=pE;break;default:c=uf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Xh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ri(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var P=f,Q=gn(r),F=[];t:{var k=Gd.get(t);if(k!==void 0){var j=Ta,yt=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":j=Ca;break;case"focusin":yt="focus",j=ba;break;case"focusout":yt="blur",j=ba;break;case"beforeblur":case"afterblur":j=ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=yu;break;case kd:case jd:case qd:j=Ra;break;case Hd:j=vu;break;case"scroll":case"scrollend":j=cu;break;case"wheel":j=Da;break;case"copy":case"cut":case"paste":j=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=qs;break;case"toggle":case"beforetoggle":j=Tu}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),x=dt?k!==null?k+"Capture":null:k;dt=[];for(var D=P,B;D!==null;){var Y=D;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||x===null||(Y=xr(D,x),Y!=null&&dt.push(vl(D,Y,B))),Xt)break;D=D.return}0<dt.length&&(k=new j(k,yt,null,r,Q),F.push({event:k,listeners:dt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",k&&r!==ui&&(yt=r.relatedTarget||r.fromElement)&&(ri(yt)||yt[dn]))break t;if((j||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,j?(yt=r.relatedTarget||r.toElement,j=P,yt=yt?ri(yt):null,yt!==null&&(Xt=h(yt),dt=yt.tag,yt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(j=null,yt=P),j!==yt)){if(dt=yn,Y="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(dt=qs,Y="onPointerLeave",x="onPointerEnter",D="pointer"),Xt=j==null?k:Ln(j),B=yt==null?k:Ln(yt),k=new dt(Y,D+"leave",j,r,Q),k.target=Xt,k.relatedTarget=B,Y=null,ri(Q)===P&&(dt=new dt(x,D+"enter",yt,r,Q),dt.target=B,dt.relatedTarget=Xt,Y=dt),Xt=Y,j&&yt)e:{for(dt=j,x=yt,D=0,B=dt;B;B=Wa(B))D++;for(B=0,Y=x;Y;Y=Wa(Y))B++;for(;0<D-B;)dt=Wa(dt),D--;for(;0<B-D;)x=Wa(x),B--;for(;D--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=Wa(dt),x=Wa(x)}dt=null}else dt=null;j!==null&&cp(F,k,j,dt,!1),yt!==null&&Xt!==null&&cp(F,Xt,yt,dt,!0)}}t:{if(k=P?Ln(P):window,j=k.nodeName&&k.nodeName.toLowerCase(),j==="select"||j==="input"&&k.type==="file")var at=Vd;else if(_e(k))if(Id)at=e0;else{at=Wv;var wt=Jv}else j=k.nodeName,!j||j.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&Us(P.elementType)&&(at=Vd):at=t0;if(at&&(at=at(t,P))){di(F,at,r,Q);break t}wt&&wt(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&Bi(k,"number",k.value)}switch(wt=P?Ln(P):window,t){case"focusin":(_e(wt)||wt.contentEditable==="true")&&(Va=wt,Rc=P,Qs=null);break;case"focusout":Qs=Rc=Va=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Bd(F,r,Q);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":Bd(F,r,Q)}var st;if(Hn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ot?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Ot||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ot&&(st=zs()):(Pn=Q,Pi="value"in Pn?Pn.value:Pn.textContent,Ot=!0)),wt=uo(P,mt),0<wt.length&&(mt=new ks(mt,t,null,r,Q),F.push({event:mt,listeners:wt}),st?mt.data=st:(st=W(r),st!==null&&(mt.data=st)))),(st=m?ye(t,r):Mt(t,r))&&(mt=uo(P,"onBeforeInput"),0<mt.length&&(wt=new ks("onBeforeInput","beforeinput",null,r,Q),F.push({event:wt,listeners:mt}),wt.data=st)),P0(F,t,P,r,Q)}up(F,n)})}function vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=xr(t,r),c!=null&&l.unshift(vl(t,c,f)),c=xr(t,n),c!=null&&l.push(vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=xr(r,f),P!=null&&y.unshift(vl(r,P,b))):c||(P=xr(r,f),P!=null&&y.push(vl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var H0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(H0,`
`).replace(G0,"")}function fp(t,n){return n=hp(n),hp(t)===n}function oo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,r,l);break;case"style":xs(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_c.get(r)||r,zi(t,r,l))}}function Kh(t,n,r,l,c,f){switch(r){case"style":xs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":b=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Ft(t,n,l,Q,r,null)}}Nr(t,f,E,b,P,y,c,!1),va(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?li(t,!!l,n,!1):r!=null&&li(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Or(t,l,c,f),va(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Dt(_l[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(Us(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Kh(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function Q0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,Q=null;for(j in r){var F=r[j];if(r.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(j)||Ft(t,n,j,null,l,F)}}for(var k in l){var j=l[k];if(F=r[k],l.hasOwnProperty(k)&&(j!=null||F!=null))switch(k){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":Q=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==F&&Ft(t,n,k,j,l,F)}}nn(t,y,E,b,P,Q,f,c);return;case"select":j=y=E=k=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=j,k!=null?li(t,!!r,k,!1):!!l!=!!r&&(n!=null?li(t,!!r,n,!0):li(t,!!r,r?[]:"",!1));return;case"textarea":j=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,k,j);return;case"option":for(var yt in r)if(k=r[yt],r.hasOwnProperty(yt)&&k!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Ft(t,n,yt,null,l,k)}for(b in l)if(k=l[b],j=r[b],l.hasOwnProperty(b)&&k!==j&&(k!=null||j!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ft(t,n,b,k,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)k=r[dt],r.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&Ft(t,n,dt,null,l,k);for(P in l)if(k=l[P],j=r[P],l.hasOwnProperty(P)&&k!==j&&(k!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Ft(t,n,P,k,l,j)}return;default:if(Us(n)){for(var Xt in r)k=r[Xt],r.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&Kh(t,n,Xt,void 0,l,k);for(Q in l)k=l[Q],j=r[Q],!l.hasOwnProperty(Q)||k===j||k===void 0&&j===void 0||Kh(t,n,Q,k,l,j);return}}for(var x in r)k=r[x],r.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,k);for(F in l)k=l[F],j=r[F],!l.hasOwnProperty(F)||k===j||k==null&&j==null||Ft(t,n,F,k,l,j)}var Zh=null,$h=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function Y0(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(K0)}:gp;function K0(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function yp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&El(y.documentElement),r&2&&El(y.body),r&4)for(r=y.head,El(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Cr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Dl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Dl(n)}function tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),Li(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Z0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function $0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Nn(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function J0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nf=null;function _p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function vp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function El(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Li(t)}var bn=new Map,Ep=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wi=nt.d;nt.d={f:W0,r:tE,D:eE,C:nE,L:iE,m:rE,X:sE,S:aE,M:lE};function W0(){var t=wi.f(),n=no();return t||n}function tE(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?km(n):wi.r(t)}var ts=typeof document>"u"?null:document;function Tp(t,n,r){var l=ts;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ep.has(c)||(Ep.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function eE(t){wi.D(t),Tp("dns-prefetch",t,null)}function nE(t,n){wi.C(t,n),Tp("preconnect",t,n)}function iE(t,n,r){wi.L(t,n,r);var l=ts;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=es(t);break;case"script":f=ns(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Tl(f))||n==="script"&&l.querySelector(Al(f))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function rE(t,n){wi.m(t,n);var r=ts;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Al(f)))return}l=r.createElement("link"),Le(l,"link",t),le(l),r.head.appendChild(l)}}}function aE(t,n,r){wi.S(t,n,r);var l=ts;if(l&&t){var c=Ye(l).hoistableStyles,f=es(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Tl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&rf(t,r);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(P,Q){b.onload=P,b.onerror=Q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function sE(t,n){wi.X(t,n);var r=ts;if(r&&t){var l=Ye(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Al(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&af(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function lE(t,n){wi.M(t,n);var r=ts;if(r&&t){var l=Ye(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Al(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&af(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ap(t,n,r,l){var c=(c=_t.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=es(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=es(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Tl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||uE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function es(t){return'href="'+fe(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function uE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),le(n),t.head.appendChild(n))}function ns(t){return'[src="'+fe(t)+'"]'}function Al(t){return"script[async]"+t}function bp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=es(r.href);var f=t.querySelector(Tl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Sp(r),(c=bn.get(c))&&rf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=ns(r.src),(c=t.querySelector(Al(f)))?(n.instance=c,le(c),c):(l=r,(c=bn.get(f))&&(l=A({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Rp(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Cr]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function wp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function oE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function cE(){}function hE(t,n,r){if(Sl===null)throw Error(a(475));var l=Sl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=es(r.href),f=t.querySelector(Tl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Sp(r),(c=bn.get(c))&&rf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function fE(){if(Sl===null)throw Error(a(475));var t=Sl;return t.stylesheets&&t.count===0&&sf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(dE,t),po=null,go.call(t))}function dE(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function mE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dp(t,n,r,l,c,f,y,E,b,P,Q,F){return t=new mE(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Gc(f),t}function Vp(t){return t?(t=Ma,t):Ma}function Ip(t,n,r,l,c,f){c=Vp(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Hi(t,l,n),r!==null&&(cn(r,t,n),tl(r,t,n))}function Np(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function lf(t,n){Np(t,n),(t=t.alternate)&&Np(t,n)}function Op(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&cn(n,t,67108864),lf(t,67108864)}}var yo=!0;function gE(t,n,r,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=2,uf(t,n,r,l)}finally{nt.p=f,G.T=c}}function pE(t,n,r,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=8,uf(t,n,r,l)}finally{nt.p=f,G.T=c}}function uf(t,n,r,l){if(yo){var c=of(l);if(c===null)Xh(t,n,l,_o,r),xp(t,l);else if(_E(c,t,n,r,l))l.stopPropagation();else if(xp(t,l),n&4&&-1<yE.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Kn(f),(Ht&6)===0&&(to=fn()+500,yl(0))}}break;case 13:E=Oa(f,2),E!==null&&cn(E,f,2),no(),lf(f,2)}if(f=of(l),f===null&&Xh(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Xh(t,n,l,null,r)}}function of(t){return t=gn(t),cf(t)}var _o=null;function cf(t){if(_o=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function Mp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case As:return 2;case ha:return 8;case Ar:case dc:return 32;case fa:return 268435456;default:return 32}default:return 32}}var hf=!1,nr=null,ir=null,rr=null,Rl=new Map,wl=new Map,ar=[],yE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Cl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&Op(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _E(t,n,r,l,c){switch(n){case"focusin":return nr=Cl(nr,t,n,r,l,c),!0;case"dragenter":return ir=Cl(ir,t,n,r,l,c),!0;case"mouseover":return rr=Cl(rr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Rl.set(f,Cl(Rl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,wl.set(f,Cl(wl.get(f)||null,t,n,r,l,c)),!0}return!1}function Up(t){var n=ri(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,nu(t.priority,function(){if(r.tag===13){var l=on();l=Mi(l);var c=Oa(r,l);c!==null&&cn(c,r,l),lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ui=l,r.target.dispatchEvent(l),ui=null}else return n=Un(r),n!==null&&Op(n),t.blockedOn=r,!1;n.shift()}return!0}function Lp(t,n,r){vo(t)&&r.delete(n)}function vE(){hf=!1,nr!==null&&vo(nr)&&(nr=null),ir!==null&&vo(ir)&&(ir=null),rr!==null&&vo(rr)&&(rr=null),Rl.forEach(Lp),wl.forEach(Lp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,hf||(hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vE)))}var To=null;function zp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(cf(l||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,oh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Dl(t){function n(b){return Eo(b,t)}nr!==null&&Eo(nr,t),ir!==null&&Eo(ir,t),rr!==null&&Eo(rr,t),Rl.forEach(n),wl.forEach(n);for(var r=0;r<ar.length;r++){var l=ar[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)Up(r),r.blockedOn===null&&ar.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||zp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(cf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),zp(r)}}}function ff(t){this._internalRoot=t}Ao.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();Ip(r,l,t,n,null,null)},Ao.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ip(t.current,2,null,t,null,null),no(),n[dn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=xi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ar.length&&n!==0&&n<ar[r].priority;r++);ar.splice(r,0,t),r===0&&Up(t)}};var Bp=e.version;if(Bp!=="19.1.0")throw Error(a(527,Bp,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var EE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{re=So.inject(EE),qt=So}catch{}}return Il.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=tg,f=eg,y=ng,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Dp(t,1,!1,null,null,r,l,c,f,y,E,null),t[dn]=n.current,Fh(t),new ff(n)},Il.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=tg,y=eg,E=ng,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Dp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Vp(null),r=n.current,l=on(),l=Mi(l),c=qi(l),c.callback=null,Hi(r,c,l),r=l,n.current.lanes=r,ii(n,r),Kn(n),t[dn]=n.current,Fh(t),new Ao(n)},Il.version="19.1.0",Il}var Xp;function IE(){if(Xp)return gf.exports;Xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gf.exports=VE(),gf.exports}var NE=IE();const r_=tn.createContext(void 0),a_=()=>{const s=tn.useContext(r_);if(!s)throw new Error("useActionContext must be used within a Provider");return s},OE=({children:s})=>{const[e,i]=tn.useState(null),[a,u]=tn.useState(""),[h,d]=tn.useState([]),[g,v]=tn.useState({}),[_,A]=tn.useState({}),[V,I]=tn.useState(!1),[U,H]=tn.useState([]);return et.jsx(r_.Provider,{value:{subject:e,level:a,selectedSubsections:h,movementMap:g,movementNumOfCopiesMap:_,formSubmitted:V,submittedActions:U,setSubject:i,setLevel:u,setSelectedSubsections:d,setMovementMap:v,setMovementNumOfCopiesMap:A,setFormSubmitted:I,setSubmittedActions:H},children:s})};function ME({data:s}){const e=Object.keys(s),i=Object.values(s)[0],{submittedActions:a}=a_();return et.jsxs("div",{children:[et.jsxs("table",{className:"p-2",children:[et.jsx("thead",{children:et.jsxs("tr",{children:[et.jsx("th",{className:"border border-gray-400 px-2 py-1 text-left",children:"Level"}),i.map(u=>et.jsx("th",{className:"border border-gray-400 px-2 py-1 text-left",children:u.range},u.range))]})}),et.jsx("tbody",{children:e.sort().map(u=>et.jsxs("tr",{className:"border border-gray-400 px-2 py-1 text-center",children:[et.jsx("td",{children:u}),s[u].map(({range:h,count:d})=>et.jsx("td",{className:d<=1?"border border-gray-400 px-2 py-1 text-center bg-red-200":"border border-gray-400 px-2 py-1 text-center",children:d},h))]},u))})]}),a.map((u,h)=>et.jsxs("pre",{children:[u.subject,": ",u.level,", ",u.selectedSubsections,u.movementMap[u.selectedSubsections[0]],u.movementNumOfCopiesMap[u.selectedSubsections[0]]]},h))]})}const xE=()=>{};var Kp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},UE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},l_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let I=(g&15)<<2|_>>6,U=_&63;v||(U=64,d||(I=64)),a.push(i[A],i[V],i[I],i[U])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(s_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):UE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||_==null||V==null)throw new LE;const I=h<<2|g>>4;if(a.push(I),_!==64){const U=g<<4&240|_>>2;if(a.push(U),V!==64){const H=_<<6&192|V;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zE=function(s){const e=s_(s);return l_.encodeByteArray(e,!0)},Uo=function(s){return zE(s).replace(/\./g,"")},BE=function(s){try{return l_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=()=>PE().__FIREBASE_DEFAULTS__,jE=()=>{if(typeof process>"u"||typeof Kp>"u")return;const s=Kp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&BE(s[1]);return e&&JSON.parse(e)},Kf=()=>{try{return xE()||kE()||jE()||qE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},HE=s=>{var e,i;return(i=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},GE=s=>{const e=HE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},u_=()=>{var s;return(s=Kf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s){return s.endsWith(".cloudworkstations.dev")}async function YE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}const Ul={};function XE(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function KE(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Zp=!1;function ZE(s,e){if(typeof window>"u"||typeof document>"u"||!Zf(window.location.host)||Ul[s]===e||Ul[s]||Zp)return;Ul[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=XE().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,U){I.setAttribute("width","24"),I.setAttribute("id",U),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Zp=!0,d()},I}function A(I,U){I.setAttribute("id",U),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function V(){const I=KE(a),U=i("text"),H=document.getElementById(U)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),Et=i("preprendIcon"),ot=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ht=I.element;g(ht),A($,tt);const It=_();v(ot,Et),ht.append(ot,H,$,It),document.body.appendChild(ht)}h?(H.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JE(){var s;const e=(s=Kf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WE(){return!JE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tT(){try{return typeof indexedDB=="object"}catch{return!1}}function eT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="FirebaseError";class ps extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=nT,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o_.prototype.create)}}class o_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?iT(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ps(u,g,a)}}function iT(s,e){return s.replace(rT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const rT=/\{\$([^}]+)}/g;function Lo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if($p(h)&&$p(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function $p(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(s){return s&&s._delegate?s._delegate:s}class jl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new QE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lT(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sT(s){return s===na?void 0:s}function lT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const oT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},cT=Lt.INFO,hT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},fT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=hT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=cT,this._logHandler=fT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const dT=(s,e)=>e.some(i=>s instanceof i);let Jp,Wp;function mT(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gT(){return Wp||(Wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,Cf=new WeakMap,f_=new WeakMap,vf=new WeakMap,$f=new WeakMap;function pT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(or(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&h_.set(i,s)}).catch(()=>{}),$f.set(e,s),e}function yT(s){if(Cf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Cf.set(s,e)}let Df={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||f_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _T(s){Df=s(Df)}function vT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ef(this),e,...i);return f_.set(a,e.sort?e.sort():[e]),or(a)}:gT().includes(s)?function(...e){return s.apply(Ef(this),e),or(h_.get(this))}:function(...e){return or(s.apply(Ef(this),e))}}function ET(s){return typeof s=="function"?vT(s):(s instanceof IDBTransaction&&yT(s),dT(s,mT())?new Proxy(s,Df):s)}function or(s){if(s instanceof IDBRequest)return pT(s);if(vf.has(s))return vf.get(s);const e=ET(s);return e!==s&&(vf.set(s,e),$f.set(e,s)),e}const Ef=s=>$f.get(s);function TT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=or(d);return a&&d.addEventListener("upgradeneeded",v=>{a(or(d.result),v.oldVersion,v.newVersion,or(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const AT=["get","getKey","getAll","getAllKeys","count"],ST=["put","add","delete","clear"],Tf=new Map;function ty(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=ST.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||AT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return Tf.set(e,h),h}_T(s=>({...s,get:(e,i,a)=>ty(e,i)||s.get(e,i,a),has:(e,i)=>!!ty(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",ey="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new c_("@firebase/app"),wT="@firebase/app-compat",CT="@firebase/analytics-compat",DT="@firebase/analytics",VT="@firebase/app-check-compat",IT="@firebase/app-check",NT="@firebase/auth",OT="@firebase/auth-compat",MT="@firebase/database",xT="@firebase/data-connect",UT="@firebase/database-compat",LT="@firebase/functions",zT="@firebase/functions-compat",BT="@firebase/installations",PT="@firebase/installations-compat",kT="@firebase/messaging",jT="@firebase/messaging-compat",qT="@firebase/performance",HT="@firebase/performance-compat",GT="@firebase/remote-config",QT="@firebase/remote-config-compat",YT="@firebase/storage",FT="@firebase/storage-compat",XT="@firebase/firestore",KT="@firebase/ai",ZT="@firebase/firestore-compat",$T="firebase",JT="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",WT={[Vf]:"fire-core",[wT]:"fire-core-compat",[DT]:"fire-analytics",[CT]:"fire-analytics-compat",[IT]:"fire-app-check",[VT]:"fire-app-check-compat",[NT]:"fire-auth",[OT]:"fire-auth-compat",[MT]:"fire-rtdb",[xT]:"fire-data-connect",[UT]:"fire-rtdb-compat",[LT]:"fire-fn",[zT]:"fire-fn-compat",[BT]:"fire-iid",[PT]:"fire-iid-compat",[kT]:"fire-fcm",[jT]:"fire-fcm-compat",[qT]:"fire-perf",[HT]:"fire-perf-compat",[GT]:"fire-rc",[QT]:"fire-rc-compat",[YT]:"fire-gcs",[FT]:"fire-gcs-compat",[XT]:"fire-fst",[ZT]:"fire-fst-compat",[KT]:"fire-vertex","fire-js":"fire-js",[$T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,t1=new Map,Nf=new Map;function ny(s,e){try{s.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Bo(s){const e=s.name;if(Nf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,s);for(const i of zo.values())ny(i,s);for(const i of t1.values())ny(i,s);return!0}function e1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function n1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new o_("app","Firebase",i1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=JT;function d_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:If,automaticDataCollectionEnabled:!0},e),u=a.name;if(typeof u!="string"||!u)throw cr.create("bad-app-name",{appName:String(u)});if(i||(i=u_()),!i)throw cr.create("no-options");const h=zo.get(u);if(h){if(Lo(i,h.options)&&Lo(a,h.config))return h;throw cr.create("duplicate-app",{appName:u})}const d=new uT(u);for(const v of Nf.values())d.addComponent(v);const g=new r1(i,a,d);return zo.set(u,g),g}function s1(s=If){const e=zo.get(s);if(!e&&s===If&&u_())return d_();if(!e)throw cr.create("no-app",{appName:s});return e}function ls(s,e,i){var a;let u=(a=WT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(g.join(" "));return}Bo(new jl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebase-heartbeat-database",u1=1,ql="firebase-heartbeat-store";let Af=null;function m_(){return Af||(Af=TT(l1,u1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Af}async function o1(s){try{const i=(await m_()).transaction(ql),a=await i.objectStore(ql).get(g_(s));return await i.done,a}catch(e){if(e instanceof ps)Vi.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function iy(s,e){try{const a=(await m_()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,g_(s)),await a.done}catch(i){if(i instanceof ps)Vi.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(a.message)}}}function g_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1024,h1=30;class f1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new m1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ry();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>h1){const d=g1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ry(),{heartbeatsToSend:a,unsentEntries:u}=d1(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function ry(){return new Date().toISOString().substring(0,10)}function d1(s,e=c1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),ay(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),ay(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class m1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tT()?eT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await o1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function ay(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function g1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(s){Bo(new jl("platform-logger",e=>new bT(e),"PRIVATE")),Bo(new jl("heartbeat",e=>new f1(e),"PRIVATE")),ls(Vf,ey,s),ls(Vf,ey,"esm2017"),ls("fire-js","")}p1("");var sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,p_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(N,M,L){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[M].apply(N,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],M=O.g[2];var L=O.g[3],R=S+(L^w&(M^L))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=L+(M^S&(w^M))+N[1]+3905402710&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(w^L&(S^w))+N[2]+606105819&4294967295,M=L+(R<<17&4294967295|R>>>15),R=w+(S^M&(L^S))+N[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(L^w&(M^L))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=L+(M^S&(w^M))+N[5]+1200080426&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(w^L&(S^w))+N[6]+2821735955&4294967295,M=L+(R<<17&4294967295|R>>>15),R=w+(S^M&(L^S))+N[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(L^w&(M^L))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=L+(M^S&(w^M))+N[9]+2336552879&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(w^L&(S^w))+N[10]+4294925233&4294967295,M=L+(R<<17&4294967295|R>>>15),R=w+(S^M&(L^S))+N[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(L^w&(M^L))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=L+(M^S&(w^M))+N[13]+4254626195&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(w^L&(S^w))+N[14]+2792965006&4294967295,M=L+(R<<17&4294967295|R>>>15),R=w+(S^M&(L^S))+N[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^L&(w^M))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=L+(w^M&(S^w))+N[6]+3225465664&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(L^S))+N[11]+643717713&4294967295,M=L+(R<<14&4294967295|R>>>18),R=w+(L^S&(M^L))+N[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^L&(w^M))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=L+(w^M&(S^w))+N[10]+38016083&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(L^S))+N[15]+3634488961&4294967295,M=L+(R<<14&4294967295|R>>>18),R=w+(L^S&(M^L))+N[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^L&(w^M))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=L+(w^M&(S^w))+N[14]+3275163606&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(L^S))+N[3]+4107603335&4294967295,M=L+(R<<14&4294967295|R>>>18),R=w+(L^S&(M^L))+N[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^L&(w^M))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=L+(w^M&(S^w))+N[2]+4243563512&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(L^S))+N[7]+1735328473&4294967295,M=L+(R<<14&4294967295|R>>>18),R=w+(L^S&(M^L))+N[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^L)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=L+(S^w^M)+N[8]+2272392833&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^w)+N[11]+1839030562&4294967295,M=L+(R<<16&4294967295|R>>>16),R=w+(M^L^S)+N[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^L)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=L+(S^w^M)+N[4]+1272893353&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^w)+N[7]+4139469664&4294967295,M=L+(R<<16&4294967295|R>>>16),R=w+(M^L^S)+N[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^L)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=L+(S^w^M)+N[0]+3936430074&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^w)+N[3]+3572445317&4294967295,M=L+(R<<16&4294967295|R>>>16),R=w+(M^L^S)+N[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^L)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=L+(S^w^M)+N[12]+3873151461&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^w)+N[15]+530742520&4294967295,M=L+(R<<16&4294967295|R>>>16),R=w+(M^L^S)+N[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~L))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=L+(w^(S|~M))+N[7]+1126891415&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~w))+N[14]+2878612391&4294967295,M=L+(R<<15&4294967295|R>>>17),R=w+(L^(M|~S))+N[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~L))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=L+(w^(S|~M))+N[3]+2399980690&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~w))+N[10]+4293915773&4294967295,M=L+(R<<15&4294967295|R>>>17),R=w+(L^(M|~S))+N[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~L))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=L+(w^(S|~M))+N[15]+4264355552&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~w))+N[6]+2734768916&4294967295,M=L+(R<<15&4294967295|R>>>17),R=w+(L^(M|~S))+N[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~L))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=L+(w^(S|~M))+N[11]+3174756917&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~w))+N[2]+718787259&4294967295,M=L+(R<<15&4294967295|R>>>17),R=w+(L^(M|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+L&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,N=this.B,M=this.h,L=0;L<S;){if(M==0)for(;L<=w;)u(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<S;)if(N[M++]=O.charCodeAt(L++),M==this.blockSize){u(this,N),M=0;break}}else for(;L<S;)if(N[M++]=O[L++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)O[w++]=this.g[S]>>>N&255;return O};function h(O,S){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],N=!0,M=O.length-1;0<=M;M--){var L=O[M]|0;N&&L==S||(w[M]=L,N=!1)}this.g=w}var g={};function v(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return $(_(-O));for(var S=[],w=1,N=0;O>=w;N++)S[N]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return $(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=V,M=0;M<O.length;M+=8){var L=Math.min(8,O.length-M),R=parseInt(O.substring(M,M+L),S);8>L?(L=_(Math.pow(S,L)),N=N.j(L).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var V=v(0),I=v(1),U=v(16777216);s=d.prototype,s.m=function(){if(tt(this))return-$(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(H(this))return"0";if(tt(this))return"-"+$(this).toString(O);for(var S=_(Math.pow(O,6)),w=this,N="";;){var M=It(w,S).g;w=Et(w,M.j(S));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,H(w))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function H(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function tt(O){return O.h==-1}s.l=function(O){return O=Et(this,O),tt(O)?-1:H(O)?0:1};function $(O){for(var S=O.g.length,w=[],N=0;N<S;N++)w[N]=~O.g[N];return new d(w,~O.h).add(I)}s.abs=function(){return tt(this)?$(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0,M=0;M<=S;M++){var L=N+(this.i(M)&65535)+(O.i(M)&65535),R=(L>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=R>>>16,L&=65535,R&=65535,w[M]=R<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Et(O,S){return O.add($(S))}s.j=function(O){if(H(this)||H(O))return V;if(tt(this))return tt(O)?$(this).j($(O)):$($(this).j(O));if(tt(O))return $(this.j($(O)));if(0>this.l(U)&&0>O.l(U))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var L=this.i(N)>>>16,R=this.i(N)&65535,Ne=O.i(M)>>>16,ie=O.i(M)&65535;w[2*N+2*M]+=R*ie,ot(w,2*N+2*M),w[2*N+2*M+1]+=L*ie,ot(w,2*N+2*M+1),w[2*N+2*M+1]+=R*Ne,ot(w,2*N+2*M+1),w[2*N+2*M+2]+=L*Ne,ot(w,2*N+2*M+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function ot(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ht(O,S){this.g=O,this.h=S}function It(O,S){if(H(S))throw Error("division by zero");if(H(O))return new ht(V,V);if(tt(O))return S=It($(O),S),new ht($(S.g),$(S.h));if(tt(S))return S=It(O,$(S)),new ht($(S.g),S.h);if(30<O.g.length){if(tt(O)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=I,N=S;0>=N.l(O);)w=pt(w),N=pt(N);var M=Nt(w,1),L=Nt(N,1);for(N=Nt(N,2),w=Nt(w,2);!H(N);){var R=L.add(N);0>=R.l(O)&&(M=M.add(w),L=R),N=Nt(N,1),w=Nt(w,1)}return S=Et(O,M.j(S)),new ht(M,S)}for(M=V;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=_(w),R=L.j(S);tt(R)||0<R.l(O);)w-=N,L=_(w),R=L.j(S);H(L)&&(L=I),M=M.add(L),O=Et(O,R)}return new ht(M,O)}s.A=function(O){return It(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&O.i(N);return new d(w,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|O.i(N);return new d(w,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^O.i(N);return new d(w,this.h^O.h)};function pt(O){for(var S=O.g.length+1,w=[],N=0;N<S;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(w,O.h)}function Nt(O,S){var w=S>>5;S%=32;for(var N=O.g.length-w,M=[],L=0;L<N;L++)M[L]=0<S?O.i(L+w)>>>S|O.i(L+w+1)<<32-S:O.i(L+w);return new d(M,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,p_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,hr=d}).apply(typeof sy<"u"?sy:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y_,Nl,__,Vo,Of,v_,E_,T_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,z={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function V(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function I(o,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,I.apply(null,arguments)}function U(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function H(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,z,q){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return m.prototype[z].apply(T,W)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const z=o.length||0,q=T.length||0;o.length=z+q;for(let W=0;W<q;W++)o[z+W]=T[W]}else o.push(T)}}class Et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(o){return/^[\s\xa0]*$/.test(o)}function ht(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function It(o){return It[" "](o),o}It[" "]=function(){};var pt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function Nt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function L(o){g.setTimeout(()=>{throw o},0)}function R(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Et(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,Bt=new Ne,C=()=>{const o=g.Promise.resolve(void 0);nt=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){L(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(pt){t:{try{It(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}H(Rt,J);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Mn(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Oi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ei(o){this.src=o,this.g={},this.h=0}ei.prototype.add=function(o,m,p,T,z){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=Er(o,m,T,z);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new Mn(m,this.src,q,!!T,z),m.fa=p,o.push(m)),m};function vr(o,m){var p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(T,z,1),q&&(Oi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Er(o,m,p,T){for(var z=0;z<o.length;++z){var q=o[z];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return z}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),Ts={};function Wl(o,m,p,T,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Wl(o,m[q],p,T,z);return null}return p=tu(p),o&&o[be]?o.K(m,p,_(T)?!!T.capture:!1,z):fn(o,m,p,!1,T,z)}function fn(o,m,p,T,z,q){if(!m)throw Error("Invalid event type");var W=_(z)?!!z.capture:!!z,Ot=fa(o);if(Ot||(o[Tr]=Ot=new ei(o)),p=Ot.add(m,p,T,W,q),p.proxy)return p;if(T=fc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ct||(z=W),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Ar(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function fc(){function o(p){return m.call(o.src,o.listener,p)}const m=dc;return o}function As(o,m,p,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)As(o,m[q],p,T,z);else T=_(T)?!!T.capture:!!T,p=tu(p),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Er(q,p,T,z),-1<p&&(Oi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=fa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Er(m,p,T,z)),(p=-1<o?m[o]:null)&&ha(p))}function ha(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])vr(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ar(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=fa(m))?(vr(p,o),p.h==0&&(p.src=null,m[Tr]=null)):Oi(o)}}}function Ar(o){return o in Ts?Ts[o]:Ts[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ha(o),o=p.call(T,m)}return o}function fa(o){return o=o[Tr],o instanceof ei?o:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[Ss]||(o[Ss]=function(m){return o.handleEvent(m)}),o[Ss])}function re(){it.call(this),this.i=new ei(this),this.M=this,this.F=null}H(re,it),re.prototype[be]=!0,re.prototype.removeEventListener=function(o,m,p,T){As(this,o,m,p,T)};function qt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var z=m;m=new J(T,o),N(m,z)}if(z=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];z=en(W,T,!0,m)&&z}if(W=m.g=o,z=en(W,T,!0,m)&&z,z=en(W,T,!1,m)&&z,p)for(q=0;q<p.length;q++)W=m.g=p[q],z=en(W,T,!1,m)&&z}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Oi(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function en(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Ot=W.listener,ye=W.ha||W.src;W.fa&&vr(o.i,W),z=Ot.call(ye,T)!==!1&&z}}return z&&!T.defaultPrevented}function ke(o,m,p){if(typeof o=="function")p&&(o=I(o,p));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function eu(o){o.g=ke(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(o){it.call(this),this.h=o,this.g={}}H(Sr,it);var br=[];function Rr(o){Nt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ha(m)},o),o.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),Rr(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=g.JSON.stringify,da=g.JSON.parse,wr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function bs(){}bs.prototype.h=null;function Rs(o){return o.h||(o.h=o.i())}function ws(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){J.call(this,"d")}H(ii,J);function Cs(){J.call(this,"c")}H(Cs,J);var xn={},Ds=null;function Mi(){return Ds=Ds||new re}xn.La="serverreachability";function ma(o){J.call(this,xn.La,o)}H(ma,J);function xi(o){const m=Mi();qt(m,new ma(m))}xn.STAT_EVENT="statevent";function nu(o,m){J.call(this,xn.STAT_EVENT,o),this.stat=m}H(nu,J);function Jt(o){const m=Mi();qt(m,new nu(m,o))}xn.Ma="timingevent";function pe(o,m){J.call(this,xn.Ma,o),this.size=m}H(pe,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Vs(o,m,p,T,z,q){o.info(function(){if(o.g)if(q)for(var W="",Ot=q.split("&"),ye=0;ye<Ot.length;ye++){var Mt=Ot[ye].split("=");if(1<Mt.length){var we=Mt[0];Mt=Mt[1];var _e=we.split("_");W=2<=_e.length&&_e[1]=="type"?W+(we+"="+Mt+"&"):W+(we+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+W})}function gc(o,m,p,T,z,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+q+" "+W})}function Ui(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cr(o,p)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Cr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<z.length;W++)z[W]=""}}}}return wn(p)}catch{return m}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Ln(){}H(Ln,bs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Un=new Ln;function Ye(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Is={},ga={};function Cn(o,m,p){o.L=1,o.v=Or(nn(m)),o.m=p,o.P=!0,ai(o,null)}function ai(o,m){o.F=Date.now(),Dr(o),o.A=nn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Ls(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=vu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new mc(I(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(br[0]=z.toString()),z=br);for(var q=0;q<z.length;q++){var W=Wl(p,z[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),xi(),Vs(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&yn(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const _e=yn(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||_e!=4||m==7||(m==8||0>=di?xi(3):xi(2)),zi(this);var p=this.g.Z();this.X=p;e:if(ru(this)){var T=hu(this.g);o="";var z=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),zn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,gc(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,ye=this.g;if((Ot=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Ui(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vr(this,p);else{this.o=!1,this.s=3,Jt(12),Oe(this),zn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=au(this,W),Me==ga){_e==4&&(this.s=4,Jt(14),p=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Is){this.s=4,Jt(15),Ui(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Ui(this.i,this.l,Me,null),Vr(this,Me);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||W.length!=0||this.h.h||(this.s=1,Jt(16),p=!1),this.o=this.o&&p,!p)Ui(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),zn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),kr(we),we.M=!0,Jt(11))}}else Ui(this.i,this.l,W,null),Vr(this,W);_e==4&&Oe(this),this.o&&!this.J&&(_e==4?pu(this.j,this):(this.o=!1,Dr(this)))}else Ec(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Oe(this),zn(this)}}}catch{}finally{}};function ru(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?ga:(p=Number(m.substring(p,T)),isNaN(p)?Is:(T+=1,T+p>m.length?ga:(m=m.slice(T,T+p),o.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Dr(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(I(o.ba,o),m)}function zi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(xi(),Jt(17)),Oe(this),this.s=2,zn(this)):su(this,this.S-o)};function zn(o){o.j.G==0||o.J||pu(o.j,o)}function Oe(o){zi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Rr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Vr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ns(p.h,o))){if(!o.K&&Ns(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ca(p),Ra(p);else break t;js(p),Jt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(I(p.Za,p),6e3));if(1>=ya(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((o.K||p.g==o)&&Ca(p),!ot(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const we=Mt[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const _e=Mt[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const di=Mt[5];di!=null&&typeof di=="number"&&0<di&&(T=1.5*di,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Gn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var q=T.h;q.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_a(q,q.h),q.h=null))}if(T.D){const Hs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(T.ya=Hs,Qt(T.I,T.D,Hs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),W.K){Fe(T.h,W);var Ot=W,ye=T.L;ye&&(Ot.I=ye),Ot.B&&(zi(Ot),Dr(Ot)),T.g=W}else mu(T);0<p.i.length&&wa(p)}else Mt[0]!="stop"&&Mt[0]!="close"||fi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?fi(p,7):Ps(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}xi(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function si(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ya(o){return o.h?1:o.g?o.g.size:0}function Ns(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function _a(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}si.prototype.cancel=function(){if(this.i=Os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Os(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function pc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function va(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Ms(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=va(o),T=pc(o),z=T.length,q=0;q<z;q++)m.call(void 0,T[q],p&&p[q],o)}var Ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),z=null;if(0<=T){var q=o[p].substring(0,T);z=o[p].substring(T+1)}else q=o[p];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Nr(this,o.j),this.o=o.o,this.g=o.g,Bi(this,o.s),this.l=o.l;var m=o.i,p=new ui;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),li(this,p),this.m=o.m}else o&&(m=String(o).match(Ir))?(this.h=!1,Nr(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Bi(this,m[4]),this.l=mn(m[5]||"",!0),li(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Mr(m,xs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Mr(m,xs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Mr(p,p.charAt(0)=="/"?_c:Us,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Mr(p,Ea)),o.join("")};function nn(o){return new fe(o)}function Nr(o,m,p){o.j=p?mn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Bi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function li(o,m,p){m instanceof ui?(o.i=m,ou(o.i,o.h)):(p||(m=Mr(m,vc)),o.i=new ui(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Or(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function mn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Mr(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var xs=/[#\/\?@]/g,Us=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,Ea=/#/g;function ui(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&yc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=ui.prototype,s.add=function(o,m){gn(this),this.i=null,o=Bn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function oi(o,m){gn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return gn(o),m=Bn(o,m),o.g.has(m)}s.forEach=function(o,m){gn(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){gn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=o[T];for(let q=0;q<z.length;q++)p.push(m[T])}return p},s.V=function(o){gn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return gn(this),this.i=null,o=Bn(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ls(o,m,p){oi(o,m),0<p.length&&(o.i=null,o.g.set(Bn(o,m),tt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var z=q;W[T]!==""&&(z+="="+encodeURIComponent(String(W[T]))),o.push(z)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(oi(this,T),Ls(this,z,p))},o)),o.j=m}function xr(o,m){const p=new dn;if(g.Image){const T=new Image;T.onload=U(pn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=U(pn,p,"TestLoadImage: error",!1,m,T),T.onabort=U(pn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=U(pn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const p=new dn,T=new AbortController,z=setTimeout(()=>{T.abort(),pn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?pn(p,"TestPingServer: ok",!0,m):pn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),pn(p,"TestPingServer: error",!1,m)})}function pn(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function Ur(){this.g=new wr}function Pn(o,m,p){const T=p||"";try{Ms(o,function(z,q){let W=z;_(z)&&(W=wn(z)),m.push(T+q+"="+encodeURIComponent(W))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Pi(o){this.l=o.Ub||null,this.j=o.eb||!1}H(Pi,bs),Pi.prototype.g=function(){return new hi(this.l,this.j)},Pi.prototype.i=function(o){return function(){return o}}({});function hi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(hi,re),s=hi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function zs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?kn(this):jn(this),this.readyState==3&&zs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,kn(this))},s.Qa=function(o){this.g&&(this.response=o,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let m="";return Nt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Bs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function kt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(kt,re);var Ta=/^https?$/i,Lr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Rs(this.o):Rs(Un),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){cu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Lr,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){cu(this,q)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Aa(o),qn(o)}function Aa(o){o.A||(o.A=!0,qt(o,"complete"),qt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,qt(this,"complete"),qt(this,"abort"),qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},s.bb=function(){Sa(this)};function Sa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)ke(o.Ea,0,o);else if(qt(o,"readystatechange"),yn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var z=String(o.D).match(Ir)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Ta.test(z?z.toLowerCase():"")}p=T}if(p)qt(o,"complete"),qt(o,"success");else{o.m=6;try{var q=2<yn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Aa(o)}}finally{qn(o)}}}}function qn(o,m){if(o.g){zr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||qt(o,"ready");try{p.onreadystatechange=T}catch{}}}function zr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),da(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(ot(o[T]))continue;var p=M(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[z]||[];m[z]=q,q.push(p)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ba(o){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,o),this.cb=Br("retryDelaySeedMs",1e4,o),this.Wa=Br("forwardChannelMaxRetries",2,o),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new si(o&&o.concurrentRequestLimit),this.Da=new Ur,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ba.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){Jt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),wa(this)};function Ps(o){if(fu(o),o.G==3){var m=o.U++,p=nn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Pr(o,p),m=new Ye(o,o.j,m),m.L=2,m.v=Or(nn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Dr(m)}yu(o)}function Ra(o){o.g&&(kr(o),o.g.cancel(),o.g=null)}function fu(o){Ra(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ca(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function wa(o){if(!pa(o.h)&&!o.s){o.s=!0;var m=o.Ga;nt||C(),ut||(nt(),ut=!0),Bt.add(m,o),o.B=0}}function Tc(o,m){return ya(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(I(o.Ga,o,m),qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Ye(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=du(this,z,m),p=nn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Pr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Bs(q)))+"&"+m:this.m&&Re(p,this.m,q)),_a(this.h,z),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),z.T=!0,Cn(z,p,null)):Cn(z,p,m),this.G=2}}else this.G==3&&(o?ks(this,o):this.i.length==0||pa(this.h)||ks(this))};function ks(o,m){var p;m?p=m.l:p=o.U++;const T=nn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Pr(o,T),o.m&&o.o&&Re(T,o.m,o.o),p=new Ye(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_a(o.h,p),Cn(p,T,m)}function Pr(o,m){o.H&&Nt(o.H,function(p,T){Qt(m,T,p)}),o.l&&Ms({},function(p,T){Qt(m,T,p)})}function du(o,m,p){p=Math.min(o.i.length,p);var T=o.l?I(o.l.Na,o.l,o):null;t:{var z=o.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=z[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Ot=!0;for(let ye=0;ye<p;ye++){let Mt=z[ye].g;const we=z[ye].map;if(Mt-=q,0>Mt)q=Math.max(0,z[ye].g-100),Ot=!1;else try{Pn(we,W,"req"+Mt+"_")}catch{T&&T(we)}}if(Ot){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;nt||C(),ut||(nt(),ut=!0),Bt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(I(o.Fa,o),qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Ra(this),gu(this))};function kr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=nn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Pr(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Or(nn(m)),p.m=null,p.P=!0,ai(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Ra(this),js(this),Jt(19))};function Ca(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function pu(o,m){var p=null;if(o.g==m){Ca(o),kr(o),o.g=null;var T=2}else if(Ns(o.h,m))p=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Mi(),qt(T,new pe(T,p)),wa(o)}else mu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&js(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),z){case 1:fi(o,5);break;case 4:fi(o,10);break;case 3:fi(o,6);break;default:fi(o,2)}}}function qs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function fi(o,m){if(o.j.info("Error code "+m),m==2){var p=I(o.fb,o),T=o.Xa;const z=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Nr(T,"https"),Or(T),z?xr(T.toString(),p):Dn(T.toString(),p)}else Jt(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Os(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,p){var T=p instanceof fe?nn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Bi(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new fe(null);T&&Nr(q,T),m&&(q.g=m),z&&Bi(q,z),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Pr(o,T),T}function vu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Pi({eb:p})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Da(){}Da.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){re.call(this),this.g=new ba(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ot(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Hn(this)}H(Xe,re),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Ps(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=wn(o),o=p);m.i.push(new lu(m.Ya++,o)),m.G==3&&wa(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,Xe.aa.N.call(this)};function Tu(o){ii.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}H(Tu,ii);function Au(){Cs.call(this),this.status=1}H(Au,Cs);function Hn(o){this.g=o}H(Hn,Eu),Hn.prototype.ua=function(){qt(this.g,"a")},Hn.prototype.ta=function(o){qt(this.g,new Tu(o))},Hn.prototype.sa=function(o){qt(this.g,new Au)},Hn.prototype.ra=function(){qt(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,T_=function(){return new Da},E_=function(){return Mi()},v_=xn,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Vo=Li,ri.COMPLETE="complete",__=ri,ws.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",re.prototype.listen=re.prototype.K,Nl=ws,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,y_=kt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const ly="@firebase/firestore",uy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new c_("@firebase/firestore");function is(){return ra.logLevel}function rt(s,...e){if(ra.logLevel<=Lt.DEBUG){const i=e.map(Jf);ra.debug(`Firestore (${ys}): ${s}`,...i)}}function Ii(s,...e){if(ra.logLevel<=Lt.ERROR){const i=e.map(Jf);ra.error(`Firestore (${ys}): ${s}`,...i)}}function os(s,...e){if(ra.logLevel<=Lt.WARN){const i=e.map(Jf);ra.warn(`Firestore (${ys}): ${s}`,...i)}}function Jf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,A_(s,a,i)}function A_(s,e,i){let a=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ii(a),new Error(a)}function jt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||A_(e,u,a)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class _1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class v1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ci,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ci)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new S_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class E1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new E1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,n1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new oy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=S1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function bt(s,e){return s<e?-1:s>e?1:0}function Mf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return bt(a,u);{const h=b_(),d=b1(h.encode(cy(s,i)),h.encode(cy(e,i)));return d!==0?d:bt(a,u)}}i+=a>65535?2:1}return bt(s.length,e.length)}function cy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function b1(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function cs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,fy=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*fy);return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<hy)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fy}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Ae(0,0))}static max(){return new vt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="__name__";class Zn{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&gt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Zn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const a=Zn.isNumericId(e),u=Zn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):Mf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class te extends Zn{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new te(i)}static emptyPath(){return new te([])}}const R1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Zn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return R1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dy}static keyField(){return new Be([dy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(te.fromString(e))}static fromName(e){return new ft(te.fromString(e).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function w1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=vt.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new dr(u,ft.empty(),e)}function C1(s){return new dr(s.readTime,s.key,Hl)}class dr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(vt.min(),ft.empty(),Hl)}static max(){return new dr(vt.max(),ft.empty(),Hl)}}function D1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==V1)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,a)=>{i(e)})}static reject(e){return new X((i,a)=>{a(e)})}static waitFor(e){return new X((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>a(v))}),d=!0,h===u&&i()})}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next(u=>u?X.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new X((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new X((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function N1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$o.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=-1;function Jo(s){return s==null}function Po(s){return s===0&&1/s==-1/0}function O1(s){return typeof s=="number"&&Number.isInteger(s)&&!Po(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="";function M1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=my(e)),e=x1(s.get(i),e);return my(e)}function x1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case w_:i+="";break;default:i+=h}}return i}function my(s){return s+w_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function la(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function C_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new py(this.data.getIterator())}getIteratorFrom(e){return new py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new On([])}unionWith(e){let i=new Se(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new D_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const U1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(jt(!!s,39018),typeof s=="string"){let e=0;const i=U1.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="server_timestamp",I_="__type__",N_="__previous_value__",O_="__local_write_time__";function td(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[I_])===null||i===void 0?void 0:i.stringValue)===V_}function Wo(s){const e=s.mapValue.fields[N_];return td(e)?Wo(e):e}function Gl(s){const e=mr(s.mapValue.fields[O_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i,a,u,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ko="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__type__",z1="__max__",wo={mapValue:{}},x_="__vector__",jo="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?td(s)?4:P1(s)?9007199254740991:B1(s)?10:11:gt(28295,{value:s})}function Wn(s,e){if(s===e)return!0;const i=pr(s);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=mr(u.timestampValue),g=mr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return gr(u.bytesValue).isEqual(gr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Po(d)===Po(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return cs(s.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(gy(d)!==gy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Wn(d[v],g[v])))return!1;return!0}(s,e);default:return gt(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find(i=>Wn(i,e))!==void 0}function hs(s,e){if(s===e)return 0;const i=pr(s),a=pr(e);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),v=ce(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return yy(s.timestampValue,e.timestampValue);case 4:return yy(Gl(s),Gl(e));case 5:return Mf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=gr(h),v=gr(d);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=bt(g[_],v[_]);if(A!==0)return A}return bt(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(ce(h.latitude),ce(d.latitude));return g!==0?g:bt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return _y(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const V=h.fields||{},I=d.fields||{},U=(g=V[jo])===null||g===void 0?void 0:g.arrayValue,H=(v=I[jo])===null||v===void 0?void 0:v.arrayValue,tt=bt(((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0,((A=H==null?void 0:H.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:_y(U,H)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let V=0;V<v.length&&V<A.length;++V){const I=Mf(v[V],A[V]);if(I!==0)return I;const U=hs(g[v[V]],_[A[V]]);if(U!==0)return U}return bt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw gt(23264,{Pe:i})}}function yy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=mr(s),a=mr(e),u=bt(i.seconds,a.seconds);return u!==0?u:bt(i.nanos,a.nanos)}function _y(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=hs(i[u],a[u]);if(h)return h}return bt(i.length,a.length)}function fs(s){return xf(s)}function xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return gr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=xf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${xf(i.fields[d])}`;return u+"}"}(s.mapValue):gt(61005,{value:s})}function Io(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wo(s);return e?16+Io(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Io(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return la(a.fields,(h,d)=>{u+=h.length+Io(d)}),u}(s.mapValue);default:throw gt(13486,{value:s})}}function Uf(s){return!!s&&"integerValue"in s}function ed(s){return!!s&&"arrayValue"in s}function vy(s){return!!s&&"nullValue"in s}function Ey(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function No(s){return!!s&&"mapValue"in s}function B1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[M_])===null||i===void 0?void 0:i.stringValue)===x_}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return la(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ll(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return Object.assign({},s)}function P1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===z1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!No(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Ll(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());No(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){la(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Rn(Ll(this.value))}}function U_(s){const e=[];return la(s.fields,(i,a)=>{const u=new Be([i]);if(No(a)){const h=U_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,vt.min(),vt.min(),vt.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,vt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,vt.min(),vt.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,vt.min(),vt.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.position=e,this.inclusive=i}}function Ty(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=hs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ay(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Wn(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function k1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{}class Te extends L_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new q1(e,i,a):i==="array-contains"?new Q1(e,a):i==="in"?new Y1(e,a):i==="not-in"?new F1(e,a):i==="array-contains-any"?new X1(e,a):new Te(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new H1(e,a):new G1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hs(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends L_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ti(e,i)}matches(e){return z_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function z_(s){return s.op==="and"}function B_(s){return j1(s)&&z_(s)}function j1(s){for(const e of s.filters)if(e instanceof ti)return!1;return!0}function Lf(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+fs(s.value);if(B_(s))return s.filters.map(e=>Lf(e)).join(",");{const e=s.filters.map(i=>Lf(i)).join(",");return`${s.op}(${e})`}}function P_(s,e){return s instanceof Te?function(a,u){return u instanceof Te&&a.op===u.op&&a.field.isEqual(u.field)&&Wn(a.value,u.value)}(s,e):s instanceof ti?function(a,u){return u instanceof ti&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&P_(d,u.filters[g]),!0):!1}(s,e):void gt(19439)}function k_(s){return s instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${fs(i.value)}`}(s):s instanceof ti?function(i){return i.op.toString()+" {"+i.getFilters().map(k_).join(" ,")+"}"}(s):"Filter"}class q1 extends Te{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class H1 extends Te{constructor(e,i){super(e,"in",i),this.keys=j_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class G1 extends Te{constructor(e,i){super(e,"not-in",i),this.keys=j_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function j_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class Q1 extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ed(i)&&Yl(i.arrayValue,this.value)}}class Y1 extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class F1 extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class X1 extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Yl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Sy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new K1(s,e,i,a,u,h,d)}function nd(s){const e=Tt(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Lf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>fs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>fs(a)).join(",")),e.Ie=i}return e.Ie}function id(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!k1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!P_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ay(s.startAt,e.startAt)&&Ay(s.endAt,e.endAt)}function zf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Z1(s,e,i,a,u,h,d,g){return new tc(s,e,i,a,u,h,d,g)}function rd(s){return new tc(s)}function by(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function $1(s){return s.collectionGroup!==null}function zl(s){const e=Tt(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Be.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Ho(h,a))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new Ho(Be.keyField(),a))}return e.Ee}function $n(s){const e=Tt(s);return e.de||(e.de=J1(e,zl(s))),e.de}function J1(s,e){if(s.limitType==="F")return Sy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=s.endAt?new qo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new qo(s.startAt.position,s.startAt.inclusive):null;return Sy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Bf(s,e,i){return new tc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ec(s,e){return id($n(s),$n(e))&&s.limitType===e.limitType}function q_(s){return`${nd($n(s))}|lt:${s.limitType}`}function rs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>k_(u)).join(", ")}]`),Jo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>fs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>fs(u)).join(",")),`Target(${a})`}($n(s))}; limitType=${s.limitType})`}function nc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of zl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,v){const _=Ty(d,g,v);return d.inclusive?_<=0:_<0}(a.startAt,zl(a),u)||a.endAt&&!function(d,g,v){const _=Ty(d,g,v);return d.inclusive?_>=0:_>0}(a.endAt,zl(a),u))}(s,e)}function W1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function H_(s){return(e,i)=>{let a=!1;for(const u of zl(s)){const h=tA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function tA(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?hs(v,_):gt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new ne(ft.comparator);function Ni(){return eA}const G_=new ne(ft.comparator);function Ol(...s){let e=G_;for(const i of s)e=e.insert(i.key,i);return e}function Q_(s){let e=G_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ia(){return Bl()}function Y_(){return Bl()}function Bl(){return new ua(s=>s.toString(),(s,e)=>s.isEqual(e))}const nA=new ne(ft.comparator),iA=new Se(ft.comparator);function Vt(...s){let e=iA;for(const i of s)e=e.add(i);return e}const rA=new Se(bt);function aA(){return rA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function F_(s){return{integerValue:""+s}}function sA(s,e){return O1(e)?F_(e):ad(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this._=void 0}}function lA(s,e,i){return s instanceof Go?function(u,h){const d={fields:{[I_]:{stringValue:V_},[O_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&td(h)&&(h=Wo(h)),h&&(d.fields[N_]=h),{mapValue:d}}(i,e):s instanceof Fl?K_(s,e):s instanceof Xl?Z_(s,e):function(u,h){const d=X_(u,h),g=Ry(d)+Ry(u.Re);return Uf(d)&&Uf(u.Re)?F_(g):ad(u.serializer,g)}(s,e)}function uA(s,e,i){return s instanceof Fl?K_(s,e):s instanceof Xl?Z_(s,e):i}function X_(s,e){return s instanceof Qo?function(a){return Uf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Go extends ic{}class Fl extends ic{constructor(e){super(),this.elements=e}}function K_(s,e){const i=$_(e);for(const a of s.elements)i.some(u=>Wn(u,a))||i.push(a);return{arrayValue:{values:i}}}class Xl extends ic{constructor(e){super(),this.elements=e}}function Z_(s,e){let i=$_(e);for(const a of s.elements)i=i.filter(u=>!Wn(u,a));return{arrayValue:{values:i}}}class Qo extends ic{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Ry(s){return ce(s.integerValue||s.doubleValue)}function $_(s){return ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function oA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Xl&&u instanceof Xl?cs(a.elements,u.elements,Wn):a instanceof Qo&&u instanceof Qo?Wn(a.Re,u.Re):a instanceof Go&&u instanceof Go}(s.transform,e.transform)}class cA{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class rc{}function J_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tv(s.key,Di.none()):new Kl(s.key,s.data,Di.none());{const i=s.data,a=Rn.empty();let u=new Se(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new oa(s.key,a,new On(u.toArray()),Di.none())}}function hA(s,e,i){s instanceof Kl?function(u,h,d){const g=u.value.clone(),v=Cy(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof oa?function(u,h,d){if(!Oo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Cy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(W_(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Pl(s,e,i,a){return s instanceof Kl?function(h,d,g,v){if(!Oo(h.precondition,d))return g;const _=h.value.clone(),A=Dy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof oa?function(h,d,g,v){if(!Oo(h.precondition,d))return g;const _=Dy(h.fieldTransforms,v,d),A=d.data;return A.setAll(W_(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,g){return Oo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function fA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=X_(a.transform,u||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,h))}return i||null}function wy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&cs(a,u,(h,d)=>oA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends rc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class oa extends rc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function W_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Cy(s,e,i){const a=new Map;jt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,uA(d,g,i[u]))}return a}function Dy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,lA(h,d,e))}return a}class tv extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dA extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&hA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Y_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=J_(d,g);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(i,a)=>wy(i,a))&&cs(this.baseMutations,e.baseMutations,(i,a)=>wy(i,a))}}class sd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){jt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let u=function(){return nA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new sd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ut;function yA(s){switch(s){case Z.OK:return gt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function ev(s){if(s===void 0)return Ii("GRPC error has no .code"),Z.UNKNOWN;switch(s){case ge.OK:return Z.OK;case ge.CANCELLED:return Z.CANCELLED;case ge.UNKNOWN:return Z.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Z.INTERNAL;case ge.UNAVAILABLE:return Z.UNAVAILABLE;case ge.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ge.NOT_FOUND:return Z.NOT_FOUND;case ge.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ge.ABORTED:return Z.ABORTED;case ge.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ge.DATA_LOSS:return Z.DATA_LOSS;default:return gt(39323,{code:s})}}(Ut=ge||(ge={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new hr([4294967295,4294967295],0);function Vy(s){const e=b_().encode(s),i=new p_;return i.update(e),new Uint8Array(i.digest())}function Iy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new hr([i,a],0),new hr([u,h],0)]}class ld{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(a<0)throw new Ml(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=hr.fromNumber(this.pe)}we(e,i,a){let u=e.add(i.multiply(hr.fromNumber(a)));return u.compare(_A)===1&&(u=new hr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Vy(e),[a,u]=Iy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ld(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Vy(e),[a,u]=Iy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ac(vt.min(),u,new ne(bt),Ni(),Vt())}}class Zl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,u){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=u}}class nv{constructor(e,i){this.targetId=e,this.Ce=i}}class iv{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Ny{constructor(){this.Fe=0,this.Me=Oy(),this.xe=Pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vt(),i=Vt(),a=Vt();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:gt(38017,{changeType:h})}}),new Zl(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=Oy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vA{constructor(e){this.ze=e,this.je=new Map,this.He=Ni(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(bt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,a=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(zf(h))if(a===0){const d=new ft(h.path);this.tt(i,d,Qe.newNoDocument(d,vt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),v=g?this.lt(g,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=gr(a).toUint8Array()}catch(v){if(v instanceof D_)return os("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new ld(d,u,h)}catch(v){return os(v instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&zf(g.target)){const v=new ft(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Qe.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Vt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new ac(e,i,this.Ze,this.He,a);return this.He=Ni(),this.Je=Co(),this.Ye=Co(),this.Ze=new ne(bt),u}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Ny,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(bt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(bt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ny),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Co(){return new ne(ft.comparator)}function Oy(){return new ne(ft.comparator)}const EA={asc:"ASCENDING",desc:"DESCENDING"},TA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AA={and:"AND",or:"OR"};class SA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pf(s,e){return s.useProto3Json||Jo(e)?e:{value:e}}function Yo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bA(s,e){return Yo(s,e.toTimestamp())}function Jn(s){return jt(!!s,49232),vt.fromTimestamp(function(i){const a=mr(i);return new Ae(a.seconds,a.nanos)}(s))}function ud(s,e){return kf(s,e).canonicalString()}function kf(s,e){const i=function(u){return new te(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function av(s){const e=te.fromString(s);return jt(cv(e),10190,{key:e.toString()}),e}function jf(s,e){return ud(s.databaseId,e.path)}function Sf(s,e){const i=av(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(lv(i))}function sv(s,e){return ud(s.databaseId,e)}function RA(s){const e=av(s);return e.length===4?te.emptyPath():lv(e)}function qf(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function lv(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function My(s,e,i){return{name:jf(s,e),fields:i.value.mapValue.fields}}function wA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Pe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Pe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Z.UNKNOWN:ev(_.code);return new lt(A,_.message||"")}(d);i=new iv(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Sf(s,a.document.name),h=Jn(a.document.updateTime),d=a.document.createTime?Jn(a.document.createTime):vt.min(),g=new Rn({mapValue:{fields:a.document.fields}}),v=Qe.newFoundDocument(u,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Mo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Sf(s,a.document),h=a.readTime?Jn(a.readTime):vt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Mo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Sf(s,a.document),h=a.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new pA(u,h),g=a.targetId;i=new nv(g,d)}}return i}function CA(s,e){let i;if(e instanceof Kl)i={update:My(s,e.key,e.value)};else if(e instanceof tv)i={delete:jf(s,e.key)};else if(e instanceof oa)i={update:My(s,e.key,e.data),updateMask:LA(e.fieldMask)};else{if(!(e instanceof dA))return gt(16599,{ft:e.type});i={verify:jf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw gt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:bA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(s,e.precondition)),i}function DA(s,e){return s&&s.length>0?(jt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?Jn(u.updateTime):Jn(h);return d.isEqual(vt.min())&&(d=Jn(h)),new cA(d,u.transformResults||[])}(i,e))):[]}function VA(s,e){return{documents:[sv(s,e.path)]}}function IA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sv(s,u);const h=function(_){if(_.length!==0)return ov(ti.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(I){return{field:as(I.field),direction:MA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Pf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function NA(s){let e=RA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const I=uv(V);return I instanceof ti&&B_(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(I=>function(H){return new Ho(ss(H.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(I))}(i.orderBy));let g=null;i.limit&&(g=function(V){let I;return I=typeof V=="object"?V.value:V,Jo(I)?null:I}(i.limit));let v=null;i.startAt&&(v=function(V){const I=!!V.before,U=V.values||[];return new qo(U,I)}(i.startAt));let _=null;return i.endAt&&(_=function(V){const I=!V.before,U=V.values||[];return new qo(U,I)}(i.endAt)),Z1(e,u,d,h,g,"F",v,_)}function OA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function uv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ss(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=ss(i.unaryFilter.field);return Te.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ss(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ss(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Te.create(ss(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ti.create(i.compositeFilter.filters.map(a=>uv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(s):gt(30097,{filter:s})}function MA(s){return EA[s]}function xA(s){return TA[s]}function UA(s){return AA[s]}function as(s){return{fieldPath:s.canonicalString()}}function ss(s){return Be.fromServerFormat(s.fieldPath)}function ov(s){return s instanceof Te?function(i){if(i.op==="=="){if(Ey(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NAN"}};if(vy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ey(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NAN"}};if(vy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(i.field),op:xA(i.op),value:i.value}}}(s):s instanceof ti?function(i){const a=i.getFilters().map(u=>ov(u));return a.length===1?a[0]:{compositeFilter:{op:UA(i.op),filters:a}}}(s):gt(54877,{filter:s})}function LA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function cv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,i,a,u,h=vt.min(),d=vt.min(),g=Pe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.wt=e}}function BA(s){const e=NA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.Cn=new kA}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(dr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class kA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(te.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(hv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ds(0)}static lr(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="LruGarbageCollector",jA=1048576;function Ly([s,e],[i,a]){const u=bt(s,i);return u===0?bt(e,a):u}class qA{constructor(e){this.Er=e,this.buffer=new Se(Ly),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ly(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){rt(Uy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vs(i)?rt(Uy,"Ignoring IndexedDB error during garbage collection: ",i):await _s(i)}await this.mr(3e5)})}}class GA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return X.resolve($o.le);const a=new qA(i);return this.gr.forEachTarget(e,u=>a.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>a.Rr(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(xy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,g=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(_=Date.now(),is()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${V} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function QA(s,e){return new GA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.changes=new ua(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Pl(a.mutation,u,On.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Vt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Vt()){const u=ia();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ol();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ia();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Vt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ni();const d=Bl(),g=function(){return Bl()}();return i.forEach((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof oa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Pl(A.mutation,_,A.mutation.getFieldMask(),Ae.now())):d.set(_.key,On.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var V;return g.set(_,new FA(A,(V=d.get(_))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new ne((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||On.empty();A=g.applyToLocalView(_,A),a.set(v,A);const V=(u.get(g.batchId)||Vt()).add(v);u=u.insert(g.batchId,V)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,V=Y_();A.forEach(I=>{if(!h.has(I)){const U=J_(i.get(I),a.get(I));U!==null&&V.set(I,U),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,V))}return X.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):$1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):X.resolve(ia());let g=Hl,v=h;return d.next(_=>X.forEach(_,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{v=v.insert(A,I)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Vt())).next(A=>({batchId:g,changes:Q_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=Ol();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,v=>{const _=function(V,I){return new tc(I,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next(A=>{A.forEach((V,I)=>{d=d.insert(V,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Ol();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Pl(A.mutation,_,On.empty(),Ae.now()),nc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return X.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Jn(u.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:BA(u.bundledQuery),readTime:Jn(u.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new ne(ft.comparator),this.Qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ia();return X.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const u=ia(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=ia(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ia(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return X.resolve(g)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(a.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new gA(i,a));let h=this.Qr.get(i);h===void 0&&(h=Vt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.$r=new Se(Ie.Ur),this.Kr=new Se(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ft(new te([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([a,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ft(new te([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Vt();return this.Kr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ft.comparator(e.key,i.key)||bt(e.Zr,i.Zr)}static Wr(e,i){return bt(e.Zr,i.Zr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Ie.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Xr=this.Xr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ti(a),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Wf:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,u],d=>{const g=this.ei(d.Zr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(bt);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),X.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ft(h),0);let g=new Se(bt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Zr)),!0)},d),X.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const u=this.ei(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){jt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return X.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Xr.firstAfterOrEqual(a);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.ii=e,this.docs=function(){return new ne(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ni();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||D1(C1(A),a)<=0||(u.has(A.key)||nc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,u){gt(9500)}si(e,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new tS(this)}getSize(e){return X.resolve(this.size)}}class tS extends YA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(a)}),X.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.persistence=e,this.oi=new ua(i=>nd(i),id),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new od,this.targetCount=0,this.ui=ds.cr()}forEachTarget(e,i){return this.oi.forEach((a,u)=>i(u)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),X.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ds(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Tr(i),X.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),X.waitFor(h).next(()=>u)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i){this.ci={},this.overlays={},this.li=new $o(0),this.hi=!1,this.hi=!0,this.Pi=new $A,this.referenceDelegate=e(this),this.Ti=new eS(this),this.indexManager=new PA,this.remoteDocumentCache=function(u){return new WA(u)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new zA(i),this.Ei=new KA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ZA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new JA(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const u=new nS(this.li.next());return this.referenceDelegate.di(),a(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return X.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class nS extends I1{constructor(e){super(),this.currentSequenceNumber=e}}class cd{constructor(e){this.persistence=e,this.Vi=new od,this.mi=null}static fi(e){return new cd(e)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,a=>{const u=ft.fromPath(a);return this.pi(e,u).next(h=>{h||i.removeEntry(u,vt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return X.or([()=>X.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.yi=new ua(a=>M1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=QA(this,i)}static fi(e,i){return new Fo(e,i)}di(){}Ai(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return X.forEach(this.yi,(a,u)=>this.Dr(e,a,u).next(h=>h?X.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,vt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}Dr(e,i,a){return X.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return X.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.ds=a,this.As=u}static Rs(e,i){let a=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new hd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return WE()?8:N1($E())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new iS;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,u){return a.documentReadCount<this.gs?(is()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(is()<=Lt.DEBUG&&rt("QueryEngine","Query:",rs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ps*u?(is()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(i))):X.resolve())}ws(e,i){if(by(i))return X.resolve(null);let a=$n(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),a=$n(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Vt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.vs(i,g);return this.Cs(i,_,d,v.readTime)?this.ws(e,Bf(i,null,"F")):this.Fs(e,_,i,v)}))})))}bs(e,i,a,u){return by(i)||u.isEqual(vt.min())?X.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,u)?X.resolve(null):(is()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rs(i)),this.Fs(e,d,i,w1(u,Hl)).next(g=>g))})}vs(e,i){let a=new Se(H_(e));return i.forEach((u,h)=>{nc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return is()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",rs(i)),this.ys.getDocumentsMatchingQuery(e,i,dr.min(),a)}Fs(e,i,a,u){return this.ys.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="LocalStore",aS=3e8;class sS{constructor(e,i,a,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ne(bt),this.Os=new ua(h=>nd(h),id),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function lS(s,e,i,a){return new sS(s,e,i,a)}async function dv(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function uS(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const V=_.batch,I=V.keys();let U=X.resolve();return I.forEach(H=>{U=U.next(()=>A.getEntry(v,H)).next(tt=>{const $=_.docVersions.get(H);jt($!==null,48541),tt.version.compareTo($)<0&&(V.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(v,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let v=Vt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function mv(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function oS(s,e){const i=Tt(s),a=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const g=[];e.targetChanges.forEach((A,V)=>{const I=u.get(V);if(!I)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,V)));let U=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?U=U.withResumeToken(Pe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(A.resumeToken,a)),u=u.insert(V,U),function(tt,$,Et){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=aS?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(I,U,A)&&g.push(i.Ti.updateTargetData(h,U))});let v=Ni(),_=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(cS(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!a.isEqual(vt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(V=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function cS(s,e,i){let a=Vt(),u=Vt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ni();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):rt(fd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function hS(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Wf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function fS(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ti.getTargetData(a,e).next(h=>h?(u=h,X.resolve(u)):i.Ti.allocateTargetId(a).next(d=>(u=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.xs.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function Hf(s,e,i){const a=Tt(s),u=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!vs(d))throw d;rt(fd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(u.target)}function zy(s,e,i){const a=Tt(s);let u=vt.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const V=Tt(v),I=V.Os.get(A);return I!==void 0?X.resolve(V.xs.get(I)):V.Ti.getTargetData(_,A)}(a,d,$n(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?u:vt.min(),i?h:Vt())).next(g=>(dS(a,W1(e),g),{documents:g,$s:h})))}function dS(s,e,i){let a=s.Ns.get(e)||vt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class By{constructor(){this.activeTargetIds=aA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mS{constructor(){this.xo=new By,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new By,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="ConnectivityMonitor";class ky{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(Py,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){rt(Py,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Gf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",pS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${u}`,this.Go=this.databaseId.database===ko?`project_id=${a}`:`project_id=${a}&database_id=${u}`}zo(e,i,a,u,h){const d=Gf(),g=this.jo(e,i.toUriEncodedString());rt(bf,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(g),A=Zf(_);return this.Jo(e,g,v,a,A).then(V=>(rt(bf,`Received RPC '${e}' ${d}: `,V),V),V=>{throw os(bf,`RPC '${e}' ${d} failed with error: `,V,"url: ",g,"request:",a),V})}Yo(e,i,a,u,h,d){return this.zo(e,i,a,u,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const a=pS[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class vS extends yS{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Gf();return new Promise((g,v)=>{const _=new y_;_.setWithCredentials(!0),_.listenOnce(__.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const V=_.getResponseJson();rt(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),g(V);break;case Vo.TIMEOUT:rt(He,`RPC '${e}' ${d} timed out`),v(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const I=_.getStatus();if(rt(He,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U==null?void 0:U.error;if(H&&H.status&&H.message){const tt=function(Et){const ot=Et.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ot)>=0?ot:Z.UNKNOWN}(H.status);v(new lt(tt,H.message))}else v(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{h_:e,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{rt(He,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);rt(He,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)})}I_(e,i,a){const u=Gf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T_(),g=E_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");rt(He,`Creating RPC '${e}' stream ${u}: ${A}`,v);const V=d.createWebChannel(A,v);this.E_(V);let I=!1,U=!1;const H=new _S({Zo:$=>{U?rt(He,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(I||(rt(He,`Opening RPC '${e}' stream ${u} transport.`),V.open(),I=!0),rt(He,`RPC '${e}' stream ${u} sending:`,$),V.send($))},Xo:()=>V.close()}),tt=($,Et,ot)=>{$.listen(Et,ht=>{try{ot(ht)}catch(It){setTimeout(()=>{throw It},0)}})};return tt(V,Nl.EventType.OPEN,()=>{U||(rt(He,`RPC '${e}' stream ${u} transport opened.`),H.__())}),tt(V,Nl.EventType.CLOSE,()=>{U||(U=!0,rt(He,`RPC '${e}' stream ${u} transport closed`),H.u_(),this.d_(V))}),tt(V,Nl.EventType.ERROR,$=>{U||(U=!0,os(He,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),H.u_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),tt(V,Nl.EventType.MESSAGE,$=>{var Et;if(!U){const ot=$.data[0];jt(!!ot,16349);const ht=ot,It=(ht==null?void 0:ht.error)||((Et=ht[0])===null||Et===void 0?void 0:Et.error);if(It){rt(He,`RPC '${e}' stream ${u} received error:`,It);const pt=It.status;let Nt=function(w){const N=ge[w];if(N!==void 0)return ev(N)}(pt),O=It.message;Nt===void 0&&(Nt=Z.INTERNAL,O="Unknown error status: "+pt+" with message "+It.message),U=!0,H.u_(new lt(Nt,O)),V.close()}else rt(He,`RPC '${e}' stream ${u} received:`,ot),H.c_(ot)}}),tt(g,v_.STAT_EVENT,$=>{$.stat===Of.PROXY?rt(He,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Of.NOPROXY&&rt(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{H.a_()},0),H}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(s){return new SA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=u,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),u=Math.max(0,i-a);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="PersistentStream";class pv{constructor(e,i,a,u,h,d,g,v){this.xi=e,this.S_=a,this.D_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.v_===i&&this.z_(a,u)},a=>{e(()=>{const u=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(u)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{a(()=>this.j_(u))}),this.stream.onMessage(u=>{a(()=>++this.M_==1?this.J_(u):this.onNext(u))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return rt(jy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(rt(jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ES extends pv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=wA(this.serializer,e),a=function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Jn(d.readTime):vt.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=qf(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=zf(v)?{documents:VA(h,v)}:{query:IA(h,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=rv(h,d.resumeToken);const _=Pf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Yo(h,d.snapshotVersion.toTimestamp());const _=Pf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=OA(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=qf(this.serializer),i.removeTarget=e,this.Q_(i)}}class TS extends pv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=DA(e.writeResults,e.commitTime),a=Jn(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=qf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>CA(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{}class SS extends AS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.sa=!1}oa(){if(this.sa)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,kf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())})}Yo(e,i,a,u,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,kf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class bS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ii(i),this.ua=!1):rt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class RS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{ca(this)&&(rt(aa,"Restarting streams for network reachability change."),await async function(v){const _=Tt(v);_.da.add(4),await $l(_),_.Va.set("Unknown"),_.da.delete(4),await lc(_)}(this))})}),this.Va=new bS(a,u)}}async function lc(s){if(ca(s))for(const e of s.Aa)await e(!0)}async function $l(s){for(const e of s.Aa)await e(!1)}function yv(s,e){const i=Tt(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),pd(i)?gd(i):Es(i).N_()&&md(i,e))}function dd(s,e){const i=Tt(s),a=Es(i);i.Ea.delete(e),a.N_()&&_v(i,e),i.Ea.size===0&&(a.N_()?a.k_():ca(i)&&i.Va.set("Unknown"))}function md(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Es(s).Z_(e)}function _v(s,e){s.ma.Ke(e),Es(s).X_(e)}function gd(s){s.ma=new vA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Es(s).start(),s.Va.ca()}function pd(s){return ca(s)&&!Es(s).O_()&&s.Ea.size>0}function ca(s){return Tt(s).da.size===0}function vv(s){s.ma=void 0}async function wS(s){s.Va.set("Online")}async function CS(s){s.Ea.forEach((e,i)=>{md(s,e)})}async function DS(s,e){vv(s),pd(s)?(s.Va.Pa(e),gd(s)):s.Va.set("Unknown")}async function VS(s,e,i){if(s.Va.set("Online"),e instanceof iv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ea.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ea.delete(g),u.ma.removeTarget(g))}(s,e)}catch(a){rt(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof Mo?s.ma.Xe(e):e instanceof nv?s.ma.ot(e):s.ma.nt(e),!i.isEqual(vt.min()))try{const a=await mv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ea.get(_);A&&h.Ea.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Ea.get(v);if(!A)return;h.Ea.set(v,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),_v(h,v);const V=new ur(A.target,v,_,A.sequenceNumber);md(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){rt(aa,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!vs(e))throw e;s.da.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>mv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(aa,"Retrying IndexedDB access"),await i(),s.da.delete(1),await lc(s)})}function Ev(s,e){return e().catch(i=>Xo(s,i,e))}async function uc(s){const e=Tt(s),i=yr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wf;for(;IS(e);)try{const u=await hS(e.localStore,a);if(u===null){e.Ia.length===0&&i.k_();break}a=u.batchId,NS(e,u)}catch(u){await Xo(e,u)}Tv(e)&&Av(e)}function IS(s){return ca(s)&&s.Ia.length<10}function NS(s,e){s.Ia.push(e);const i=yr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function Tv(s){return ca(s)&&!yr(s).O_()&&s.Ia.length>0}function Av(s){yr(s).start()}async function OS(s){yr(s).ia()}async function MS(s){const e=yr(s);for(const i of s.Ia)e.ta(i.mutations)}async function xS(s,e,i){const a=s.Ia.shift(),u=sd.from(a,e,i);await Ev(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await uc(s)}async function US(s,e){e&&yr(s).ea&&await async function(a,u){if(function(d){return yA(d)&&d!==Z.ABORTED}(u.code)){const h=a.Ia.shift();yr(a).L_(),await Ev(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await uc(a)}}(s,e),Tv(s)&&Av(s)}async function qy(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),rt(aa,"RemoteStore received new credentials");const a=ca(i);i.da.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await lc(i)}async function LS(s,e){const i=Tt(s);e?(i.da.delete(2),await lc(i)):e||(i.da.add(2),await $l(i),i.Va.set("Unknown"))}function Es(s){return s.fa||(s.fa=function(i,a,u){const h=Tt(i);return h.oa(),new ES(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:wS.bind(null,s),n_:CS.bind(null,s),i_:DS.bind(null,s),Y_:VS.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),pd(s)?gd(s):s.Va.set("Unknown")):(await s.fa.stop(),vv(s))})),s.fa}function yr(s){return s.ga||(s.ga=function(i,a,u){const h=Tt(i);return h.oa(),new TS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:OS.bind(null,s),i_:US.bind(null,s),na:MS.bind(null,s),ra:xS.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await uc(s)):(await s.ga.stop(),s.Ia.length>0&&(rt(aa,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new yd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),vs(s))return new lt(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ol(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new us;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.pa=new ne(ft.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class ms{constructor(e,i,a,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ms(e,i,us.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class BS{constructor(){this.queries=Gy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=Tt(i),h=u.queries;u.queries=Gy(),h.forEach((d,g)=>{for(const v of g.Sa)v.onError(a)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Gy(){return new ua(s=>q_(s),ec)}async function Sv(s,e){const i=Tt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.Da()&&e.va()&&(a=2):(h=new zS,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(u,!0);break;case 1:h.ba=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=_d(d,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&vd(i)}async function bv(s,e){const i=Tt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.va()?0:1:!h.Da()&&e.va()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PS(s,e){const i=Tt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(u)&&(a=!0);d.ba=u}}a&&vd(i)}function kS(s,e,i){const a=Tt(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function vd(s){s.Ca.forEach(e=>{e.next()})}var Qf,Qy;(Qy=Qf||(Qf={})).xa="default",Qy.Cache="cache";class Rv{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ms(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.key=e}}class Cv{constructor(e){this.key=e}}class jS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.Za=H_(e),this.Xa=new us(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new Hy,u=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,V)=>{const I=u.get(A),U=nc(this.query,V)?V:null,H=!!I&&this.mutatedKeys.has(I.key),tt=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let $=!1;I&&U?I.data.isEqual(U.data)?H!==tt&&(a.track({type:3,doc:U}),$=!0):this.ru(I,U)||(a.track({type:2,doc:U}),$=!0,(v&&this.Za(U,v)>0||_&&this.Za(U,_)<0)&&(g=!0)):!I&&U?(a.track({type:0,doc:U}),$=!0):I&&!U&&(a.track({type:1,doc:I}),$=!0,(v||_)&&(g=!0)),$&&(U?(d=d.add(U),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,V)=>function(U,H){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:$})}};return tt(U)-tt(H)}(A.type,V.type)||this.Za(A.doc,V.doc)),this.iu(a),u=u!=null&&u;const g=i&&!u?this.su():[],v=this.Ya.size===0&&this.current&&!u?1:0,_=v!==this.Ja;return this.Ja=v,d.length!==0||_?{snapshot:new ms(this.query,e.Xa,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Hy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Vt(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new Cv(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new wv(a))}),i}au(e){this.Ha=e.$s,this.Ya=Vt();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return ms.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ed="SyncEngine";class qS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class HS{constructor(e){this.key=e,this.cu=!1}}class GS{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new ua(g=>q_(g),ec),this.Pu=new Map,this.Tu=new Set,this.Iu=new ne(ft.comparator),this.Eu=new Map,this.du=new od,this.Au={},this.Ru=new Map,this.Vu=ds.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function QS(s,e,i=!0){const a=Mv(s);let u;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.uu()):u=await Dv(a,e,i,!0),u}async function YS(s,e){const i=Mv(s);await Dv(i,e,!0,!1)}async function Dv(s,e,i,a){const u=await fS(s.localStore,$n(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await FS(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&yv(s.remoteStore,u),g}async function FS(s,e,i,a,u){s.fu=(V,I,U)=>async function(tt,$,Et,ot){let ht=$.view.tu(Et);ht.Cs&&(ht=await zy(tt.localStore,$.query,!1).then(({documents:O})=>$.view.tu(O,ht)));const It=ot&&ot.targetChanges.get($.targetId),pt=ot&&ot.targetMismatches.get($.targetId)!=null,Nt=$.view.applyChanges(ht,tt.isPrimaryClient,It,pt);return Fy(tt,$.targetId,Nt.ou),Nt.snapshot}(s,V,I,U);const h=await zy(s.localStore,e,!0),d=new jS(e,h.$s),g=d.tu(h.documents),v=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(g,s.isPrimaryClient,v);Fy(s,i,_.ou);const A=new qS(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),_.snapshot}async function XS(s,e,i){const a=Tt(s),u=a.hu.get(e),h=a.Pu.get(u.targetId);if(h.length>1)return a.Pu.set(u.targetId,h.filter(d=>!ec(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Hf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&dd(a.remoteStore,u.targetId),Yf(a,u.targetId)}).catch(_s)):(Yf(a,u.targetId),await Hf(a.localStore,u.targetId,!0))}async function KS(s,e){const i=Tt(s),a=i.hu.get(e),u=i.Pu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dd(i.remoteStore,a.targetId))}async function ZS(s,e,i){const a=ib(s);try{const u=await function(d,g){const v=Tt(d),_=Ae.now(),A=g.reduce((U,H)=>U.add(H.key),Vt());let V,I;return v.persistence.runTransaction("Locally write mutations","readwrite",U=>{let H=Ni(),tt=Vt();return v.Bs.getEntries(U,A).next($=>{H=$,H.forEach((Et,ot)=>{ot.isValidDocument()||(tt=tt.add(Et))})}).next(()=>v.localDocuments.getOverlayedDocuments(U,H)).next($=>{V=$;const Et=[];for(const ot of g){const ht=fA(ot,V.get(ot.key).overlayedDocument);ht!=null&&Et.push(new oa(ot.key,ht,U_(ht.value.mapValue),Di.exists(!0)))}return v.mutationQueue.addMutationBatch(U,_,Et,g)}).next($=>{I=$;const Et=$.applyToLocalDocumentSet(V,tt);return v.documentOverlayCache.saveOverlays(U,$.batchId,Et)})}).then(()=>({batchId:I.batchId,changes:Q_(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,v){let _=d.Au[d.currentUser.toKey()];_||(_=new ne(bt)),_=_.insert(g,v),d.Au[d.currentUser.toKey()]=_}(a,u.batchId,i),await Jl(a,u.changes),await uc(a.remoteStore)}catch(u){const h=_d(u,"Failed to persist write");i.reject(h)}}async function Vv(s,e){const i=Tt(s);try{const a=await oS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Eu.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.cu=!0:u.modifiedDocuments.size>0?jt(d.cu,14607):u.removedDocuments.size>0&&(jt(d.cu,42227),d.cu=!1))}),await Jl(i,a,e)}catch(a){await _s(a)}}function Yy(s,e,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach((A,V)=>{for(const I of V.Sa)I.Fa(g)&&(_=!0)}),_&&vd(v)}(a.eventManager,e),u.length&&a.lu.Y_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function $S(s,e,i){const a=Tt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Eu.get(e),h=u&&u.key;if(h){let d=new ne(ft.comparator);d=d.insert(h,Qe.newNoDocument(h,vt.min()));const g=Vt().add(h),v=new ac(vt.min(),new Map,new ne(bt),d,g);await Vv(a,v),a.Iu=a.Iu.remove(h),a.Eu.delete(e),Td(a)}else await Hf(a.localStore,e,!1).then(()=>Yf(a,e,i)).catch(_s)}async function JS(s,e){const i=Tt(s),a=e.batch.batchId;try{const u=await uS(i.localStore,e);Nv(i,a,null),Iv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,u)}catch(u){await _s(u)}}async function WS(s,e,i){const a=Tt(s);try{const u=await function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(V=>(jt(V!==null,37113),A=V.keys(),v.mutationQueue.removeMutationBatch(_,V))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);Nv(a,e,i),Iv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,u)}catch(u){await _s(u)}}function Iv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function Nv(s,e,i){const a=Tt(s);let u=a.Au[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Au[a.currentUser.toKey()]=u}}function Yf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||Ov(s,a)})}function Ov(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(dd(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),Td(s))}function Fy(s,e,i){for(const a of i)a instanceof wv?(s.du.addReference(a.key,e),tb(s,a)):a instanceof Cv?(rt(Ed,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||Ov(s,a.key)):gt(19791,{pu:a})}function tb(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(rt(Ed,"New document in limbo: "+i),s.Tu.add(a),Td(s))}function Td(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new ft(te.fromString(e)),a=s.Vu.next();s.Eu.set(a,new HS(i)),s.Iu=s.Iu.insert(i,a),yv(s.remoteStore,new ur($n(rd(i.path)),a,"TargetPurposeLimboResolution",$o.le))}}async function Jl(s,e,i){const a=Tt(s),u=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((g,v)=>{d.push(a.fu(v,e,i).then(_=>{var A;if((_||i)&&a.isPrimaryClient){const V=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,V?"current":"not-current")}if(_){u.push(_);const V=hd.Rs(v.targetId,_);h.push(V)}}))}),await Promise.all(d),a.lu.Y_(u),await async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>X.forEach(_,I=>X.forEach(I.ds,U=>A.persistence.referenceDelegate.addReference(V,I.targetId,U)).next(()=>X.forEach(I.As,U=>A.persistence.referenceDelegate.removeReference(V,I.targetId,U)))))}catch(V){if(!vs(V))throw V;rt(fd,"Failed to update sequence numbers: "+V)}for(const V of _){const I=V.targetId;if(!V.fromCache){const U=A.xs.get(I),H=U.snapshotVersion,tt=U.withLastLimboFreeSnapshotVersion(H);A.xs=A.xs.insert(I,tt)}}}(a.localStore,h))}async function eb(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){rt(Ed,"User change. New user:",e.toKey());const a=await dv(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(v=>{v.reject(new lt(Z.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.ks)}}function nb(s,e){const i=Tt(s),a=i.Eu.get(e);if(a&&a.cu)return Vt().add(a.key);{let u=Vt();const h=i.Pu.get(e);if(!h)return u;for(const d of h){const g=i.hu.get(d);u=u.unionWith(g.view.eu)}return u}}function Mv(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$S.bind(null,e),e.lu.Y_=PS.bind(null,e.eventManager),e.lu.gu=kS.bind(null,e.eventManager),e}function ib(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return lS(this.persistence,new rS,e.initialUser,this.serializer)}Su(e){return new fv(cd.fi,this.serializer)}bu(e){return new mS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class rb extends Ko{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){jt(this.persistence.referenceDelegate instanceof Fo,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new HA(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new fv(a=>Fo.fi(a,i),this.serializer)}}class Ff{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eb.bind(null,this.syncEngine),await LS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BS}()}createDatastore(e){const i=sc(e.databaseInfo.databaseId),a=function(h){return new vS(h)}(e.databaseInfo);return function(h,d,g,v){return new SS(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new RS(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Yy(this.syncEngine,i,0),function(){return ky.C()?new ky:new gS}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,A){const V=new GS(u,h,d,g,v,_);return A&&(V.mu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Tt(u);rt(aa,"RemoteStore shutting down."),h.da.add(5),await $l(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class ab{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{rt(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(rt(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_d(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function wf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await dv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Xy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await sb(s);rt(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>qy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>qy(e.remoteStore,u)),s._onlineComponents=e}async function sb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(_r,"Using user provided OfflineComponentProvider");try{await wf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await wf(s,new Ko)}}else rt(_r,"Using default OfflineComponentProvider"),await wf(s,new rb(void 0));return s._offlineComponents}async function Uv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(_r,"Using user provided OnlineComponentProvider"),await Xy(s,s._uninitializedComponentsProvider._online)):(rt(_r,"Using default OnlineComponentProvider"),await Xy(s,new Ff))),s._onlineComponents}function lb(s){return Uv(s).then(e=>e.syncEngine)}async function Lv(s){const e=await Uv(s),i=e.eventManager;return i.onListen=QS.bind(null,e.syncEngine),i.onUnlisten=XS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KS.bind(null,e.syncEngine),i}function ub(s,e,i={}){const a=new Ci;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new xv({next:I=>{A.xu(),d.enqueueAndForget(()=>bv(h,V));const U=I.docs.has(g);!U&&I.fromCache?_.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&I.fromCache&&v&&v.source==="server"?_.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),V=new Rv(rd(g.path),A,{includeMetadataChanges:!0,Qa:!0});return Sv(h,V)}(await Lv(s),s.asyncQueue,e,i,a)),a.promise}function ob(s,e,i={}){const a=new Ci;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new xv({next:I=>{A.xu(),d.enqueueAndForget(()=>bv(h,V)),I.fromCache&&v.source==="server"?_.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),V=new Rv(g,A,{includeMetadataChanges:!0,Qa:!0});return Sv(h,V)}(await Lv(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(s,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cb(s,e,i,a){if(e===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Zy(s){if(!ft.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $y(s){if(ft.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ad(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function sa(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ad(s);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="firestore.googleapis.com",Jy=!0;class Wy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pv,this.ssl=Jy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Jy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jA)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new y1;switch(a.type){case"firstParty":return new T1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Ky.get(i);a&&(rt("ComponentProvider","Removing Datastore"),Ky.delete(i),a.terminate())}(this),Promise.resolve()}}function hb(s,e,i,a={}){var u;s=sa(s,oc);const h=Zf(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;h&&(YE(`https://${v}`),ZE("Firestore",!0)),d.host!==Pv&&d.host!==v&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:a});if(!Lo(_,g)&&(s._setSettings(_),a.mockUserToken)){let A,V;if(typeof a.mockUserToken=="string")A=a.mockUserToken,V=Ge.MOCK_USER;else{A=FE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Ge(I)}s._authCredentials=new _1(new S_(A,V))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class hn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class fr extends cc{constructor(e,i,a){super(e,i,rd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ft(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function fb(s,e,...i){if(s=kl(s),Bv("collection","path",e),s instanceof oc){const a=te.fromString(e,...i);return $y(a),new fr(s,null,a)}{if(!(s instanceof hn||s instanceof fr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return $y(a),new fr(s.firestore,null,a)}}function kv(s,e,...i){if(s=kl(s),arguments.length===1&&(e=R_.newId()),Bv("doc","path",e),s instanceof oc){const a=te.fromString(e,...i);return Zy(a),new hn(s,null,new ft(a))}{if(!(s instanceof hn||s instanceof fr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return Zy(a),new hn(s.firestore,s instanceof fr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="AsyncQueue";class e_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gv(this,"async_queue_retry"),this.rc=()=>{const a=Rf();a&&rt(t_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=Rf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Rf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new Ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vs(e))throw e;rt(t_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Ii("INTERNAL UNHANDLED ERROR: ",n_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const u=yd.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(u),u}oc(){this.Xu&&gt(47125,{cc:n_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function n_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class hc extends oc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new e_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function db(s,e){const i=typeof s=="object"?s:s1(),a=typeof s=="string"?s:ko,u=e1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=GE("firestore");h&&hb(u,...h)}return u}function Sd(s){if(s._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mb(s),s._firestoreClient}function mb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,v,_,A){return new L1(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,zv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new ab(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(Pe.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new gs(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=/^__.*__$/;class pb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function qv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ic:s})}}class Cd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Vc(e),u}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.dc({path:a,Rc:!1});return u.Ec(),u}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zo(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(qv(this.Ic)&&gb.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class yb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||sc(e)}bc(e,i,a,u=!1){return new Cd({Ic:e,methodName:i,wc:a,path:Be.emptyPath(),Rc:!1,yc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _b(s){const e=s._freezeSettings(),i=sc(s._databaseId);return new yb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vb(s,e,i,a,u,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,u);Yv("Data must be an object, but it was:",d,a);const g=Gv(a,d);let v,_;if(h.merge)v=new On(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const I=Eb(e,V,i);if(!d.contains(I))throw new lt(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Ab(A,I)||A.push(I)}v=new On(A),_=d.fieldTransforms.filter(V=>v.covers(V.field))}else v=null,_=d.fieldTransforms;return new pb(new Rn(g),v,_)}function Hv(s,e){if(Qv(s=kl(s)))return Yv("Unsupported field value:",e,s),Gv(s,e);if(s instanceof jv)return function(a,u){if(!qv(u.Ic))throw u.gc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let v=Hv(g,u.fc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=kl(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ae.fromDate(a);return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Ae){const h=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Rd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gs)return{bytesValue:rv(u.serializer,a._byteString)};if(a instanceof hn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ud(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof wd)return function(d,g){return{mapValue:{fields:{[M_]:{stringValue:x_},[jo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return ad(g.serializer,_)})}}}}}}(a,u);throw u.gc(`Unsupported field value: ${Ad(a)}`)}(s,e)}function Gv(s,e){const i={};return C_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(s,(a,u)=>{const h=Hv(u,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Qv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof Rd||s instanceof gs||s instanceof hn||s instanceof jv||s instanceof wd)}function Yv(s,e,i){if(!Qv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Ad(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function Eb(s,e,i){if((e=kl(e))instanceof bd)return e._internalPath;if(typeof e=="string")return Fv(s,e);throw Zo("Field path arguments must be of type string or ",s,!1,void 0,i)}const Tb=new RegExp("[~\\*/\\[\\]]");function Fv(s,e,i){if(e.search(Tb)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bd(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new lt(Z.INVALID_ARGUMENT,g+s+v)}function Ab(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Kv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Sb extends Xv{data(){return super.data()}}function Kv(s,e){return typeof e=="string"?Fv(s,e):e instanceof bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rb{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return la(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[jo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new wd(h)}convertGeoPoint(e){return new Rd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Wo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);jt(cv(a),9688,{name:e});const u=new Ql(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zv extends Xv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Kv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class xo extends Zv{data(e={}){return super.data(e)}}class Cb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new xl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new xo(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new xl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new xl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Db(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Db(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(s){s=sa(s,hn);const e=sa(s.firestore,hc);return ub(Sd(e),s._key).then(i=>Mb(e,s,i))}class $v extends Rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,i)}}function Ib(s){s=sa(s,cc);const e=sa(s.firestore,hc),i=Sd(e),a=new $v(e);return bb(s._query),ob(i,s._query).then(u=>new Cb(e,a,s,u))}function Nb(s,e,i){s=sa(s,hn);const a=sa(s.firestore,hc),u=wb(s.converter,e);return Ob(a,[vb(_b(a),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,Di.none())])}function Ob(s,e){return function(a,u){const h=new Ci;return a.asyncQueue.enqueueAndForget(async()=>ZS(await lb(a),u,h)),h.promise}(Sd(s),e)}function Mb(s,e,i){const a=i.docs.get(e._key),u=new $v(s);return new Zv(s,u,e._key,a,new xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){ys=u})(a1),Bo(new jl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new hc(new v1(a.getProvider("auth-internal")),new A1(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ls(ly,uy,e),ls(ly,uy,"esm2017")})();var xb="firebase",Ub="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(xb,Ub,"app");const Lb={apiKey:"AIzaSyAAzYQtpxrNSIMdodnheNbf52q5tWSdxas",authDomain:"pel-sr-inventory-ms.firebaseapp.com",projectId:"pel-sr-inventory-ms",storageBucket:"pel-sr-inventory-ms.firebasestorage.app",messagingSenderId:"492383385577",appId:"1:492383385577:web:306344efbf441c90f03d78",measurementId:"G-SHP5M6WBE5"},zb=d_(Lb),Dd=db(zb),i_=async(s,e)=>{const i=kv(Dd,"inventory",e);await Nb(i,s),console.log("Saved!")};async function Bb(){const s=fb(Dd,"inventory"),e=await Ib(s),i={};return e.forEach(a=>{i[a.id]=a.data()}),i}async function lr(s){const e=kv(Dd,"inventory",s),i=await Vb(e);return i.exists()?i.data():(console.log(" No such document!"),{})}async function Pb(s){var u,h,d,g,v,_,A,V,I,U;console.log(s);let e,i,a=0;for(const H of s){switch(H.movementMap[H.selectedSubsections[a]]){case"BackToFront":e=await lr(`${(u=H.subject)==null?void 0:u.toLowerCase()}_back`),i=await lr(`${(h=H.subject)==null?void 0:h.toLowerCase()}_front`);break;case"BackToStudent":e=await lr(`${(d=H.subject)==null?void 0:d.toLowerCase()}_back`);break;case"FrontToBack":e=await lr(`${(g=H.subject)==null?void 0:g.toLowerCase()}_front`),i=await lr(`${(v=H.subject)==null?void 0:v.toLowerCase()}_back`);break;case"FrontToStudent":e=await lr(`${(_=H.subject)==null?void 0:_.toLowerCase()}_front`);break;case"ShipmentToBack":i=await lr(`${(A=H.subject)==null?void 0:A.toLowerCase()}_back`);break;case"ShipmentToFront":i=await lr(`${(V=H.subject)==null?void 0:V.toLowerCase()}_front`);break}H.selectedSubsections.forEach(ot=>{var ht,It;if(e){const pt=(ht=e[H.level])==null?void 0:ht.find(Nt=>Nt.range===ot);pt&&(pt.count-=H.movementNumOfCopiesMap[ot])}if(i){const pt=(It=i[H.level])==null?void 0:It.find(Nt=>Nt.range===ot);pt&&(pt.count+=H.movementNumOfCopiesMap[ot])}});const tt=H.movementMap[H.selectedSubsections[a]],$=tt.substring(0,tt.indexOf("To")),Et=tt.substring(tt.indexOf("To")+2);e&&$!=="Shipment"&&i_(e,`${(I=H.subject)==null?void 0:I.toLowerCase()}_${$.toLowerCase()}`),i&&Et!=="Student"&&i_(i,`${(U=H.subject)==null?void 0:U.toLowerCase()}_${Et.toLowerCase()}`),a++}}function kb(){const{submittedActions:s}=a_();return et.jsx("div",{children:s.map((e,i)=>et.jsx("div",{children:e.selectedSubsections.map(a=>et.jsxs("pre",{children:[e.level," ",a,": ",e.movementMap[a]," -"," ",e.movementNumOfCopiesMap[a]," copies."]},a))},i))})}function jb({index:s,data:e,onChange:i}){const a=(U,H)=>{i({...e,[U]:H})},u=U=>{const H=e.selectedSubsections.includes(U),tt=H?e.selectedSubsections.filter(ot=>ot!==U):[...e.selectedSubsections,U];let $={...e.movementMap},Et={...e.movementNumOfCopiesMap};H&&(delete $[U],delete Et[U]),i({...e,selectedSubsections:tt,movementMap:$,movementNumOfCopiesMap:Et})},h=["1-10","11-20","21-30","31-40","41-50","51-60","61-70","71-80","81-90","91-100","101-110"],d=["BackToFront","BackToStudent","FrontToBack","FrontToStudent","ShipmentToBack","ShipmentToFront"],g=()=>{a("selectedSubsections",[...h])},v=U=>{const H={};e.selectedSubsections.forEach(tt=>{H[tt]=U}),a("movementMap",{...e.movementMap,...H})},_=U=>{const H={};e.selectedSubsections.forEach(tt=>{H[tt]=U}),a("movementNumOfCopiesMap",{...e.movementNumOfCopiesMap,...H})},A=()=>{i({...e,selectedSubsections:[],movementMap:{},movementNumOfCopiesMap:{}})},V=U=>{i({...e,subject:U===""?null:U,level:"",selectedSubsections:[],movementMap:{},movementNumOfCopiesMap:{}})},I=U=>{i({...e,level:U,selectedSubsections:[],movementMap:{},movementNumOfCopiesMap:{}})};return et.jsx("div",{children:et.jsx("form",{name:"Action",className:"flex flex-row gap-1",children:et.jsxs("div",{className:"flex flex-row gap-1",children:[et.jsxs("select",{name:"Subject",id:`subject-${s}`,value:e.subject??"",onChange:U=>V(U.target.value),className:"border px-1 py-1 rounded field-sizing-content",children:[et.jsx("option",{value:"",children:"Select Subject"}),et.jsx("option",{value:"Math",children:"Math"}),et.jsx("option",{value:"English",children:"English"})]}),e.subject==="Math"&&et.jsxs("select",{name:"math-Level",id:`math-level-${s}`,value:e.level,onChange:U=>I(U.target.value),className:"border px-1 py-1 rounded field-sizing-content",children:[et.jsx("option",{value:"",children:"Select Level"}),et.jsx("option",{value:"MG1",children:"MG1"}),et.jsx("option",{value:"MG2",children:"MG2"}),et.jsx("option",{value:"MG3",children:"MG3"})]}),e.subject==="English"&&et.jsxs("select",{name:"english-level",id:`english-level-${s}`,value:e.level,onChange:U=>I(U.target.value),className:"border px-1 py-1 rounded field-sizing-content",children:[et.jsx("option",{value:"",children:"Select Level"}),et.jsx("option",{value:"EG1",children:"EG1"}),et.jsx("option",{value:"EG2",children:"EG2"}),et.jsx("option",{value:"EG3",children:"EG3"})]}),e.subject&&e.level&&et.jsxs("div",{className:"flex flex-col gap-2 border p-2 rounded max-h-90 overflow-y-auto",children:[et.jsxs("label",{className:"flex gap-2",children:[et.jsx("input",{type:"checkbox",name:`check-all-${s}`,id:`check-all-${s}`,checked:e.selectedSubsections.length===h.length,onChange:U=>U.target.checked?g():A()}),"Select All",et.jsxs("select",{name:`check-all-movement-type-${s}`,id:`check-all-movement-type-${s}`,onChange:U=>{U.target.value&&v(U.target.value)},className:"border rounded",value:"",children:[et.jsx("option",{value:"",children:"Select Movement"}),d.map(U=>et.jsx("option",{value:U,children:U},U))]}),et.jsx("input",{type:"number",id:`select-all-number-of-copies-${s}`,name:`select-all-number-of-copies-${s}`,min:"1",placeholder:"Number of Copies",onChange:U=>{U.target.value&&_(parseInt(U.target.value))},onWheel:U=>U.currentTarget.blur(),className:"border rounded"})]},"CheckAll"),h.map(U=>et.jsxs("label",{className:"flex items-center gap-2",children:[et.jsx("input",{type:"checkbox",name:`${U}-checkbox-${s}`,id:`${U}-checkbox-${s}`,value:U,checked:e.selectedSubsections.includes(U),onChange:()=>u(U)}),U,e.selectedSubsections.includes(U)&&et.jsxs("select",{name:`${U}-movement-${s}`,id:`${U}-movement-${s}`,value:e.movementMap[U]??"",onChange:H=>{a("movementMap",{...e.movementMap,[U]:H.target.value})},className:"border rounded",children:[et.jsx("option",{value:"",children:"Select Movement"}),d.map(H=>et.jsx("option",{value:H,children:H},H))]}),e.selectedSubsections.includes(U)&&et.jsx("input",{type:"number",min:"1",id:`${U}-numOfCopies-${s}`,name:`${U}-numOfCopies-${s}`,value:e.movementNumOfCopiesMap[U]??"",placeholder:"Number of Copies",onChange:H=>{a("movementNumOfCopiesMap",{...e.movementNumOfCopiesMap,[U]:parseInt(H.target.value)||0})},onWheel:H=>H.currentTarget.blur(),className:"border rounded background"})]},U))]})]})})})}function qb(){const[s,e]=tn.useState([]),i=()=>{const d={subject:null,level:"",movementMap:{},movementNumOfCopiesMap:{},selectedSubsections:[]};e(g=>[...g,d])},a=(d,g)=>{e(v=>v.map((_,A)=>A===d?g:_))},u=d=>{e(g=>g.filter((v,_)=>_!==d))},h=async()=>{const d=s.filter(g=>g.subject&&g.level&&g.selectedSubsections.length>0&&Object.keys(g.movementMap).length>0&&Object.keys(g.movementNumOfCopiesMap).length>0);if(d.length!==0)try{await Pb(d),e([])}catch(g){console.error("Error submitting actions:",g)}};return et.jsxs("div",{className:"space-y-4",children:[et.jsx("div",{className:"mb-4",children:s.length===0&&et.jsx("p",{className:"text-gray-500",children:'No actions created yet. Click "Create New Action" to start.'})}),s.map((d,g)=>et.jsxs("div",{className:"relative",children:[et.jsx(jb,{index:g,data:d,onChange:v=>a(g,v)}),s.length>1&&et.jsx("button",{onClick:()=>u(g),className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600",children:"Remove"})]},g)),et.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[et.jsx("button",{onClick:i,className:"border outline-1 outline-blue-500 rounded bg-blue-200 px-4 py-2 hover:bg-blue-300",children:"Create New Action"}),s.length>0&&et.jsx("button",{onClick:h,className:"border outline-1 outline-green-500 rounded bg-green-200 px-4 py-2 hover:bg-green-300",children:"Submit All Actions"}),s.length>0&&et.jsx("button",{onClick:()=>e([]),className:"border outline-1 outline-red-500 rounded bg-red-200 px-4 py-2 hover:bg-red-300",children:"Clear All"})]})]})}function Hb(){const[s,e]=tn.useState({}),[i,a]=tn.useState(!0);return tn.useEffect(()=>{(async()=>{const h=await Bb();console.log(h);const d=Object.keys(h);console.log(d);const g=Object.values(h),v={};d.forEach((_,A)=>{v[_]=g[A]}),e(v)})()},[]),et.jsx("div",{className:"flex h-screen w-screen bg-gray-100 p-4 gap-4 overflow-hidden transition-all duration-300",children:et.jsxs("div",{className:"flex flex-row w-full gap-4 transition-all duration-300",children:[i?et.jsx("div",{className:"w-1/2 flex flex-col gap-4 transition-all duration-300",children:et.jsxs("div",{className:"border p-2 bg-white flex-1 flex flex-col items-center justify-start overflow-auto",children:[et.jsx("button",{onClick:()=>a(!1),className:"mb-2 bg-green-500 text-black px-3 py-1 rounded",children:"Hide Inventory"}),s&&et.jsx("div",{className:"overflow-auto w-full max-w-full",children:Object.entries(s).map(([u,h])=>et.jsxs("div",{className:"p-2 gap-4",children:[et.jsxs("h2",{className:"font-bold mb-2 text-center",children:[u," Inventory"]}),et.jsx(ME,{data:h},u)]},u))})]})}):et.jsx("div",{className:"w-0 transition-all duration-300"}),!i&&et.jsx("div",{className:"w-0 transition-all duration-300"}),et.jsxs("div",{className:`flex flex-col ${i?"w-1/2":"w-full"} gap-4 overflow-hidden transition-all duration-300`,children:[et.jsxs("div",{className:"border p-2 bg-white flex-3",children:[et.jsxs("div",{className:"flex justify-end items-center mb-2",children:[et.jsx("h2",{className:"font-bold mb-2 text-center w-full",children:"Actions"}),!i&&et.jsx("button",{onClick:()=>a(!0),className:"bg-green-500 text-black px-2 py-1 rounded",children:"Show Inventory"})]}),et.jsx(qb,{})]}),et.jsxs("div",{className:"border p-2 bg-white flex-1",children:[et.jsx("h2",{className:"font-bold mb-2 text-center",children:"Log"}),et.jsx(kb,{})]})]})]})})}NE.createRoot(document.getElementById("root")).render(et.jsx(tn.StrictMode,{children:et.jsx(OE,{children:et.jsx(Hb,{})})}));
